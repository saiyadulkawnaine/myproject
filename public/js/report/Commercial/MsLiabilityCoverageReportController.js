!function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=46)}({0:function(e,t,i){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=i(1),l=function(){function e(){a(this,e),this.http=n}return o(e,[{key:"upload",value:function(e,t,i,a){var o=this.http,n=this;o.onreadystatechange=function(){if(4==o.readyState){var e=o.responseText,t=JSON.parse(e);if("object"==(void 0===t?"undefined":r(t)))if(1==t.success)msApp.showSuccess(t.message),a(t);else if(0==t.success)msApp.showError(t.message);else{var i=n.message(t);msApp.showError(i.message,i.key)}}},o.open(t,e,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("x-csrf-token",$('meta[name="csrf-token"]').attr("content")),o.send(i)}},{key:"save",value:function(e,t,i,a){var o=this.http,n=this;o.onreadystatechange=function(){if(4==o.readyState){var e=o.responseText,t=JSON.parse(e);if("object"==(void 0===t?"undefined":r(t)))if(1==t.success)msApp.showSuccess(t.message),a(t);else if(0==t.success)msApp.showError(t.message);else{var i=n.message(t);msApp.showError(i.message,i.key)}$.unblockUI()}},o.open(t,e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("x-csrf-token",$('meta[name="csrf-token"]').attr("content")),o.send(i)}},{key:"saves",value:function(e,t,i,a){var r=this,o="";return"post"==t&&(o=axios.post(e,i)),"put"==t&&(o=axios.put(e,i)),o.then(function(e){var t=e.data;1==t.success&&msApp.showSuccess(t.message),0==t.success&&msApp.showError(t.message)}).catch(function(e){var t=e.response.data;if(0==t.success)msApp.showError(t.message);else{var i=r.message(t);msApp.showError(i.message,i.key)}}),o}},{key:"get",value:function(e,t){var i=axios.get(t.route+"/"+t.id+"/edit");return i.then(function(i){msApp.set(e,t,i.data)}).catch(function(e){}),i}},{key:"getHtml",value:function(e,t,i){var a=this.http;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText;msApp.setHtml(i,e)}},a.open("POST",e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("x-csrf-token",$('meta[name="csrf-token"]').attr("content")),a.send(msApp.qs.stringify(t))}},{key:"message",value:function(e){var t=e.errors;msgObj={};for(var i in t)return msgObj.key=i,msgObj.message=t[i],msgObj}}]),e}();e.exports=l},1:function(e,t){var i=function(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else{if(!window.ActiveXObject)return!1;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return e}();e.exports=i},2:function(e,t){!function(e){function t(t){return e(t).data("treegrid")?"treegrid":"datagrid"}function i(t,i){function a(t){var i=0;return e(t).children(":visible").each(function(){i+=e(this)._outerWidth()}),i}var r=!1,o=e(t),n=o.datagrid("getPanel").find("div.datagrid-header"),l=n.find(".datagrid-header-row:not(.datagrid-filter-row)");(i?n.find('.datagrid-filter[name="'+i+'"]'):n.find(".datagrid-filter")).each(function(){var t=e(this).attr("name"),i=o.datagrid("getColumnOption",t),n=e(this).closest("div.datagrid-filter-c"),d=n.find("a.datagrid-filter-btn"),c=l.find('td[field="'+t+'"] .datagrid-cell'),s=c._outerWidth();s!=a(n)&&this.filter.resize(this,s-d._outerWidth()),n.width()>i.boxWidth+i.deltaWidth-1&&(i.boxWidth=n.width()-i.deltaWidth+1,i.width=i.boxWidth+i.deltaWidth,r=!0)}),r&&e(t).datagrid("fixColumnSize")}function a(t,i){return e(t).datagrid("getPanel").find("div.datagrid-header").find('tr.datagrid-filter-row td[field="'+i+'"] .datagrid-filter')}function r(i,a){for(var r=t(i),o=e(i)[r]("options").filterRules,n=0;n<o.length;n++)if(o[n].field==a)return n;return-1}function o(i,a){var o=t(i),n=e(i)[o]("options").filterRules,l=r(i,a);return l>=0?n[l]:null}function n(i,o){var n=t(i),d=e(i)[n]("options"),c=d.filterRules;if("nofilter"==o.op)l(i,o.field);else{var s=r(i,o.field);s>=0?e.extend(c[s],o):c.push(o)}var u=a(i,o.field);if(u.length){if("nofilter"!=o.op){var f=u.val();u.data("textbox")&&(f=u.textbox("getText")),f!=o.value&&u[0].filter.setValue(u,o.value)}var g=u[0].menu;if(g){g.find("."+d.filterMenuIconCls).removeClass(d.filterMenuIconCls);var p=g.menu("findItem",d.operators[o.op].text);g.menu("setIcon",{target:p.target,iconCls:d.filterMenuIconCls})}}}function l(i,o){function n(e){for(var t=0;t<e.length;t++){var r=a(i,e[t]);if(r.length){r[0].filter.setValue(r,"");var o=r[0].menu;o&&o.find("."+c.filterMenuIconCls).removeClass(c.filterMenuIconCls)}}}var l=t(i),d=e(i),c=d[l]("options");if(o){var s=r(i,o);s>=0&&c.filterRules.splice(s,1),n([o])}else{c.filterRules=[];n(d.datagrid("getColumnFields",!0).concat(d.datagrid("getColumnFields")))}}function d(i){var a=t(i),r=e.data(i,a),o=r.options;o.remoteFilter?e(i)[a]("load"):("scrollview"==o.view.type&&r.data.firstRows&&r.data.firstRows.length&&(r.data.rows=r.data.firstRows),e(i)[a]("getPager").pagination("refresh",{pageNumber:1}),e(i)[a]("options").pageNumber=1,e(i)[a]("loadData",r.filterSource||r.data))}function c(t,i,a){var r=e(t).treegrid("options");if(!i||!i.length)return[];var o=[];return e.map(i,function(e){e._parentId=a,o.push(e),o=o.concat(c(t,e.children,e[r.idField]))}),e.map(o,function(e){e.children=void 0}),o}function s(i,a){function r(e){for(var t=[],i=d.pageNumber;i>0;){var a=(i-1)*parseInt(d.pageSize),r=a+parseInt(d.pageSize);if(t=e.slice(a,r),t.length)break;i--}return{pageNumber:i>0?i:1,rows:t}}var o=this,n=t(o),l=e.data(o,n),d=l.options;if("datagrid"==n&&e.isArray(i))i={total:i.length,rows:i};else if("treegrid"==n&&e.isArray(i)){var s=c(o,i,a);i={total:s.length,rows:s}}if(!d.remoteFilter){if(l.filterSource){if(d.isSorting)d.isSorting=void 0;else if("datagrid"==n)l.filterSource=i;else if(l.filterSource.total+=i.length,l.filterSource.rows=l.filterSource.rows.concat(i.rows),a)return d.filterMatcher.call(o,i)}else l.filterSource=i;if(!d.remoteSort&&d.sortName){var u=d.sortName.split(","),f=d.sortOrder.split(","),g=e(o);l.filterSource.rows.sort(function(e,t){for(var i=0,a=0;a<u.length;a++){var r=u[a],o=f[a];if(0!=(i=(g.datagrid("getColumnOption",r).sorter||function(e,t){return e==t?0:e>t?1:-1})(e[r],t[r])*("asc"==o?1:-1)))return i}return i})}if(i=d.filterMatcher.call(o,{total:l.filterSource.total,rows:l.filterSource.rows,footer:l.filterSource.footer||[]}),d.pagination){var g=e(o),p=g[n]("getPager");if(p.pagination({onSelectPage:function(e,t){d.pageNumber=e,d.pageSize=t,p.pagination("refresh",{pageNumber:e,pageSize:t}),g[n]("loadData",l.filterSource)},onBeforeRefresh:function(){return g[n]("reload"),!1}}),"datagrid"==n){var h=r(i.rows);d.pageNumber=h.pageNumber,i.rows=h.rows}else{var w=[],b=[];e.map(i.rows,function(e){e._parentId?b.push(e):w.push(e)}),i.total=w.length;var h=r(w);d.pageNumber=h.pageNumber,i.rows=h.rows.concat(b)}}e.map(i.rows,function(e){e.children=void 0})}return i}function u(a,r){function o(t){var r=f.dc,o=e(a).datagrid("getColumnFields",t);t&&g.rownumbers&&o.unshift("_");var n=(t?r.header1:r.header2).find("table.datagrid-htable");n.find(".datagrid-filter").each(function(){this.filter.destroy&&this.filter.destroy(this),this.menu&&e(this.menu).menu("destroy")}),n.find("tr.datagrid-filter-row").remove();var d=e('<tr class="datagrid-header-row datagrid-filter-row"></tr>');"bottom"==g.filterPosition?d.appendTo(n.find("tbody")):d.prependTo(n.find("tbody")),g.showFilterBar||d.hide();for(var s=0;s<o.length;s++){var p=o[s],h=e(a).datagrid("getColumnOption",p),w=e("<td></td>").attr("field",p).appendTo(d);if(h&&h.hidden&&w.hide(),"_"!=p&&(!h||!h.checkbox&&!h.expander)){var b=c(p);b?e(a)[u]("destroyFilter",p):b=e.extend({},{field:p,type:g.defaultFilterType,options:g.defaultFilterOptions});var m=g.filterCache[p];if(m)m.appendTo(w);else{m=e('<div class="datagrid-filter-c"></div>').appendTo(w);var _=g.filters[b.type],v=_.init(m,e.extend({height:24},b.options||{}));v.addClass("datagrid-filter").attr("name",p),v[0].filter=_,v[0].menu=l(m,b.op),b.options?b.options.onInit&&b.options.onInit.call(v[0],a):g.defaultFilterOptions.onInit.call(v[0],a),g.filterCache[p]=m,i(a,p)}}}}function l(t,i){if(!i)return null;var r=e('<a class="datagrid-filter-btn">&nbsp;</a>').addClass(g.filterBtnIconCls);"right"==g.filterBtnPosition?r.appendTo(t):r.prependTo(t);var o=e("<div></div>").appendTo("body");return e.map(["nofilter"].concat(i),function(t){var i=g.operators[t];i&&e("<div></div>").attr("name",t).html(i.text).appendTo(o)}),o.menu({alignTo:r,onClick:function(t){var i=e(this).menu("options").alignTo,r=i.closest("td[field]"),o=r.attr("field"),l=r.find(".datagrid-filter"),c=l[0].filter.getValue(l);0!=g.onClickMenu.call(a,t,i,o)&&(n(a,{field:o,op:t.name,value:c}),d(a))}}),r[0].menu=o,r.bind("click",{menu:o},function(t){return e(this.menu).menu("show"),!1}),o}function c(e){for(var t=0;t<r.length;t++){var i=r[t];if(i.field==e)return i}return null}r=r||[];var u=t(a),f=e.data(a,u),g=f.options;g.filterRules.length||(g.filterRules=[]),g.filterCache=g.filterCache||{};var p=e.data(a,"datagrid").options,h=p.onResize;p.onResize=function(e,t){i(a),h.call(this,e,t)};var w=p.onBeforeSortColumn;p.onBeforeSortColumn=function(e,t){var i=w.call(this,e,t);return 0!=i&&(g.isSorting=!0),i};var b=g.onResizeColumn;g.onResizeColumn=function(t,r){var o=e(this).datagrid("getPanel").find(".datagrid-header .datagrid-filter-c"),n=o.find(".datagrid-filter:focus");o.hide(),e(a).datagrid("fitColumns"),g.fitColumns?i(a):i(a,t),o.show(),n.blur().focus(),b.call(a,t,r)};var m=g.onBeforeLoad;g.onBeforeLoad=function(e,t){e&&(e.filterRules=g.filterStringify(g.filterRules)),t&&(t.filterRules=g.filterStringify(g.filterRules));var i=m.call(this,e,t);if(0!=i&&g.url)if("datagrid"==u)f.filterSource=null;else if("treegrid"==u&&f.filterSource)if(e){for(var a=e[g.idField],r=f.filterSource.rows||[],o=0;o<r.length;o++)if(a==r[o]._parentId)return!1}else f.filterSource=null;return i},g.loadFilter=function(e,t){var i=g.oldLoadFilter.call(this,e,t);return s.call(this,i,t)},f.dc.view2.children(".datagrid-header").unbind(".filter").bind("focusin.filter",function(t){var i=e(this);setTimeout(function(){f.dc.body2._scrollLeft(i._scrollLeft())},0)}),function(){e("#datagrid-filter-style").length||e("head").append('<style id="datagrid-filter-style">a.datagrid-filter-btn{display:inline-block;width:22px;height:22px;margin:0;vertical-align:top;cursor:pointer;opacity:0.6;filter:alpha(opacity=60);}a:hover.datagrid-filter-btn{opacity:1;filter:alpha(opacity=100);}.datagrid-filter-row .textbox,.datagrid-filter-row .textbox .textbox-text{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;}.datagrid-filter-row input{margin:0;-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;}.datagrid-filter-c{overflow:hidden}.datagrid-filter-cache{position:absolute;width:10px;height:10px;left:-99999px;}</style>')}(),o(!0),o(),g.fitColumns&&setTimeout(function(){i(a)},0),e.map(g.filterRules,function(e){n(a,e)})}var f=e.fn.datagrid.methods.autoSizeColumn,g=e.fn.datagrid.methods.loadData,p=e.fn.datagrid.methods.appendRow,h=e.fn.datagrid.methods.deleteRow;e.extend(e.fn.datagrid.methods,{autoSizeColumn:function(t,a){return t.each(function(){var t=e(this).datagrid("getPanel").find(".datagrid-header .datagrid-filter-c");t.css({width:"1px",height:0}),f.call(e.fn.datagrid.methods,e(this),a),t.css({width:"",height:""}),i(this,a)})},loadData:function(t,i){return t.each(function(){e.data(this,"datagrid").filterSource=null}),g.call(e.fn.datagrid.methods,t,i)},appendRow:function(t,i){var a=p.call(e.fn.datagrid.methods,t,i);return t.each(function(){var t=e(this).data("datagrid");t.filterSource&&(t.filterSource.total++,t.filterSource.rows!=t.data.rows&&t.filterSource.rows.push(i))}),a},deleteRow:function(t,i){return t.each(function(){var t=e(this).data("datagrid"),a=t.options;if(t.filterSource&&a.idField)if(t.filterSource.rows==t.data.rows)t.filterSource.total--;else for(var r=0;r<t.filterSource.rows.length;r++){var o=t.filterSource.rows[r];if(o[a.idField]==t.data.rows[i][a.idField]){t.filterSource.rows.splice(r,1),t.filterSource.total--;break}}}),h.call(e.fn.datagrid.methods,t,i)}});var w=e.fn.treegrid.methods.loadData,b=e.fn.treegrid.methods.append,m=e.fn.treegrid.methods.insert,_=e.fn.treegrid.methods.remove;e.extend(e.fn.treegrid.methods,{loadData:function(t,i){return t.each(function(){e.data(this,"treegrid").filterSource=null}),w.call(e.fn.treegrid.methods,t,i)},append:function(t,i){return t.each(function(){var t=e(this).data("treegrid");if(t.options.oldLoadFilter){var a=c(this,i.data,i.parent);t.filterSource.total+=a.length,t.filterSource.rows=t.filterSource.rows.concat(a),e(this).treegrid("loadData",t.filterSource)}else b(e(this),i)})},insert:function(t,i){return t.each(function(){var t=e(this).data("treegrid"),a=t.options;if(a.oldLoadFilter){var r=(i.before||i.after,function(e){for(var i=t.filterSource.rows,r=0;r<i.length;r++)if(i[r][a.idField]==e)return r;return-1}(i.before||i.after)),o=r>=0?t.filterSource.rows[r]._parentId:null,n=c(this,[i.data],o),l=t.filterSource.rows.splice(0,r>=0?i.before?r:r+1:t.filterSource.rows.length);l=l.concat(n),l=l.concat(t.filterSource.rows),t.filterSource.total+=n.length,t.filterSource.rows=l,e(this).treegrid("loadData",t.filterSource)}else m(e(this),i)})},remove:function(t,i){return t.each(function(){var t=e(this).data("treegrid");if(t.filterSource)for(var a=t.options,r=t.filterSource.rows,o=0;o<r.length;o++)if(r[o][a.idField]==i){r.splice(o,1),t.filterSource.total--;break}}),_(t,i)}});var v={filterMenuIconCls:"icon-ok",filterBtnIconCls:"icon-filter",filterBtnPosition:"right",filterPosition:"bottom",remoteFilter:!1,showFilterBar:!0,filterDelay:400,filterRules:[],filterMatchingType:"all",filterIncludingChild:!1,filterMatcher:function(i){function a(t,i){s.val==e.fn.combogrid.defaults.val&&(s.val=v.val);var a=s.filterRules;if(!a.length)return!0;for(var r=0;r<a.length;r++){var o=a[r],n=d.datagrid("getColumnOption",o.field),l=n&&n.formatter?n.formatter(t[o.field],t,i):void 0,c=s.val.call(d[0],t,o.field,l);void 0==c&&(c="");var u=s.operators[o.op],f=u.isMatch(c,o.value);if("any"==s.filterMatchingType){if(f)return!0}else if(!f)return!1}return"all"==s.filterMatchingType}function r(e,t){for(var i=0;i<e.length;i++){var a=e[i];if(a[s.idField]==t)return a}return null}function o(t,i){for(var a=n(t,i),r=e.extend(!0,[],a);r.length;){var o=r.shift(),l=n(t,o[s.idField]);a=a.concat(l),r=r.concat(l)}return a}function n(e,t){for(var i=[],a=0;a<e.length;a++){var r=e[a];r._parentId==t&&i.push(r)}return i}var l=t(this),d=e(this),c=e.data(this,l),s=c.options;if(s.filterRules.length){var u=[];if("treegrid"==l){var f={};e.map(i.rows,function(t){if(a(t,t[s.idField])){f[t[s.idField]]=t;for(var n=r(i.rows,t._parentId);n;)f[n[s.idField]]=n,n=r(i.rows,n._parentId);if(s.filterIncludingChild){var l=o(i.rows,t[s.idField]);e.map(l,function(e){f[e[s.idField]]=e})}}});for(var g in f)u.push(f[g])}else for(var p=0;p<i.rows.length;p++){var h=i.rows[p];a(h,p)&&u.push(h)}i={total:i.total-(i.rows.length-u.length),rows:u}}return i},defaultFilterType:"text",defaultFilterOperator:"contains",defaultFilterOptions:{onInit:function(i){function a(){var t=e(i)[r]("getFilterRule",n),a=l.val();""!=a?(t&&t.value!=a||!t)&&(e(i)[r]("addFilterRule",{field:n,op:o.defaultFilterOperator,value:a}),e(i)[r]("doFilter")):t&&(e(i)[r]("removeFilterRule",n),e(i)[r]("doFilter"))}var r=t(i),o=e(i)[r]("options"),n=e(this).attr("name"),l=e(this);l.data("textbox")&&(l=l.textbox("textbox")),l.unbind(".filter").bind("keydown.filter",function(t){e(this);this.timer&&clearTimeout(this.timer),13==t.keyCode?a():this.timer=setTimeout(function(){a()},o.filterDelay)})}},filterStringify:function(e){return JSON.stringify(e)},val:function(e,t,i){return i||e[t]},onClickMenu:function(e,t){}};e.extend(e.fn.datagrid.defaults,v),e.extend(e.fn.treegrid.defaults,v),e.fn.datagrid.defaults.filters=e.extend({},e.fn.datagrid.defaults.editors,{label:{init:function(t,i){return e("<span></span>").appendTo(t)},getValue:function(t){return e(t).html()},setValue:function(t,i){e(t).html(i)},resize:function(t,i){e(t)._outerWidth(i)._outerHeight(22)}}}),e.fn.treegrid.defaults.filters=e.fn.datagrid.defaults.filters,e.fn.datagrid.defaults.operators={nofilter:{text:"No Filter"},contains:{text:"Contains",isMatch:function(e,t){return e=String(e),t=String(t),e.toLowerCase().indexOf(t.toLowerCase())>=0}},equal:{text:"Equal",isMatch:function(e,t){return e=parseFloat(e.replace(/,/g,"")),t=parseFloat(t),e==t}},notequal:{text:"Not Equal",isMatch:function(e,t){return e=parseFloat(e.replace(/,/g,"")),t=parseFloat(t),e!=t}},beginwith:{text:"Begin With",isMatch:function(e,t){return e=String(e),t=String(t),0==e.toLowerCase().indexOf(t.toLowerCase())}},endwith:{text:"End With",isMatch:function(e,t){return e=String(e),t=String(t),-1!==e.toLowerCase().indexOf(t.toLowerCase(),e.length-t.length)}},less:{text:"Less",isMatch:function(e,t){return e=parseFloat(e.replace(/,/g,"")),t=parseFloat(t),e<t}},lessorequal:{text:"Less Or Equal",isMatch:function(e,t){return e=parseFloat(e.replace(/,/g,"")),t=parseFloat(t),e<=t}},greater:{text:"Greater",isMatch:function(e,t){return e=parseFloat(e.replace(/,/g,"")),t=parseFloat(t),e>t}},greaterorequal:{text:"Greater Or Equal",isMatch:function(e,t){return e=parseFloat(e.replace(/,/g,"")),t=parseFloat(t),e>=t}},between:{text:"In Between (Number1 to Number2)",isMatch:function(e,t){return t=t.replace(/,/g,"").split("to"),value1=parseFloat(t[0]),value2=parseFloat(t[1]),(e=parseFloat(e.replace(/,/g,"")))>=value1&&e<=value2}}},e.fn.treegrid.defaults.operators=e.fn.datagrid.defaults.operators,e.extend(e.fn.datagrid.methods,{enableFilter:function(i,a){return i.each(function(){var i=t(this),r=e.data(this,i).options;if(r.oldLoadFilter){if(!a)return;e(this)[i]("disableFilter")}r.oldLoadFilter=r.loadFilter,u(this,a),e(this)[i]("resize"),r.filterRules.length&&(r.remoteFilter?d(this):r.data&&d(this))})},disableFilter:function(i){return i.each(function(){var i=t(this),a=e.data(this,i),r=a.options;if(r.oldLoadFilter){var o=e(this).data("datagrid").dc,n=o.view.children(".datagrid-filter-cache");n.length||(n=e('<div class="datagrid-filter-cache"></div>').appendTo(o.view));for(var l in r.filterCache)e(r.filterCache[l]).appendTo(n);var d=a.data;a.filterSource&&(d=a.filterSource,e.map(d.rows,function(e){e.children=void 0})),o.header1.add(o.header2).find("tr.datagrid-filter-row").remove(),r.loadFilter=r.oldLoadFilter||void 0,r.oldLoadFilter=null,e(this)[i]("resize"),e(this)[i]("loadData",d)}})},destroyFilter:function(i,a){return i.each(function(){function i(t){var i=e(n.filterCache[t]),a=i.find(".datagrid-filter");if(a.length){var r=a[0].filter;r.destroy&&r.destroy(a[0])}i.find(".datagrid-filter-btn").each(function(){e(this.menu).menu("destroy")}),i.remove(),n.filterCache[t]=void 0}var r=t(this),o=e.data(this,r),n=o.options;if(a)i(a);else{for(var l in n.filterCache)i(l);e(this).datagrid("getPanel").find(".datagrid-header .datagrid-filter-row").remove(),e(this).data("datagrid").dc.view.children(".datagrid-filter-cache").remove(),n.filterCache={},e(this)[r]("resize"),e(this)[r]("disableFilter")}})},getFilterRule:function(e,t){return o(e[0],t)},addFilterRule:function(e,t){return e.each(function(){n(this,t)})},removeFilterRule:function(e,t){return e.each(function(){l(this,t)})},doFilter:function(e){return e.each(function(){d(this)})},getFilterComponent:function(e,t){return a(e[0],t)},resizeFilter:function(e,t){return e.each(function(){i(this,t)})}})}(jQuery)},46:function(e,t,i){e.exports=i(47)},47:function(e,t,i){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=i(48);i(2);var n=function(){function e(t){a(this,e),this.MsLiabilityCoverageReportModel=t,this.formId="LiabilityCoverageReportFrm",this.dataTable="#LiabilityCoverageReportTbl",this.route=msApp.baseUrl()+"/liabilitycoveragereport"}return r(e,[{key:"getParams",value:function(){var e={};return e.lc_sc_no=$("#explcliabilitysearchFrm  [name=lc_sc_no]").val(),e.file_no=$("#explcliabilitysearchFrm  [name=file_no]").val(),e.beneficiary_id=$("#explcliabilitysearchFrm  [name=beneficiary_id]").val(),e.buyer_id=$("#explcliabilitysearchFrm  [name=buyer_id]").val(),e.date_from=$("#explcliabilitysearchFrm  [name=date_from]").val(),e.date_to=$("#explcliabilitysearchFrm  [name=date_to]").val(),e.bank_id=$("#explcliabilitysearchFrm  [name=bank_id]").val(),e.last_delivery_date_from=$("#explcliabilitysearchFrm  [name=last_delivery_date_from]").val(),e.last_delivery_date_to=$("#explcliabilitysearchFrm  [name=last_delivery_date_to]").val(),e}},{key:"get",value:function(){var e=this.getParams();axios.get(this.route+"/html",{params:e}).then(function(e){$("#libcodata").html(""),$("#libcodata").html(e.data)}).catch(function(e){})}},{key:"get2",value:function(){var e=this.getParams();axios.get(this.route+"/htmlgrid",{params:e}).then(function(e){$("#libcodata").html(""),$("#libcodata").html('<table id="libacoreportmainTbl"></table>'),$("#libacoreportmainTbl").datagrid({width:"100%",height:"100%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{title:"Order In hand",width:390,halign:"center",colspan:5},{title:"LC / Sales Contract",width:170,halign:"center",colspan:2},{title:"BTB",width:360,halign:"center",align:"right",colspan:4},{title:"PC",width:360,halign:"center",align:"right",colspan:4},{title:"Doc.Purchase",width:360,halign:"center",align:"right",colspan:4},{field:"tot_liab_amount",title:"Total <br/>Liability",width:90,halign:"center",align:"right",rowspan:3},{title:"Shiping Status",width:180,halign:"center",align:"right",colspan:2},{title:"Security",width:450,halign:"center",align:"right",colspan:5},{title:"Incentive",width:450,halign:"center",align:"right",colspan:7}],[{field:"",title:"1",width:60,halign:"center",align:"center"},{field:"",title:"2",width:80,halign:"center",align:"center"},{field:"",title:"3",width:80,halign:"center",align:"center"},{field:"",title:"4",width:80,halign:"center",align:"center"},{field:"",title:"5",width:90,halign:"center"},{field:"",title:"6",width:80,halign:"center",align:"center"},{field:"",title:"7",width:90,halign:"center",align:"center"},{field:"",title:"8",width:90,halign:"center",align:"center"},{field:"",title:"9",width:90,halign:"center",align:"center"},{field:"",title:"10",width:90,halign:"center",align:"right"},{field:"",title:"11",width:90,halign:"center",align:"right"},{field:"",title:"12",width:90,halign:"center",align:"right"},{field:"",title:"13",width:90,halign:"center",align:"right"},{field:"",title:"14",width:90,halign:"center",align:"center"},{field:"",title:"15",width:90,halign:"center",align:"center"},{field:"",title:"16",width:90,halign:"center",align:"center"},{field:"",title:"17",width:90,halign:"center",align:"center"},{field:"",title:"18",width:90,halign:"center",align:"center"},{field:"",title:"19",width:90,halign:"center",align:"center"},{field:"",title:"20",width:90,halign:"center",align:"center"},{field:"",title:"21",width:90,halign:"center",align:"center"},{field:"",title:"22",width:90,halign:"center",align:"center"},{field:"",title:"23",width:90,halign:"center",align:"center"},{field:"",title:"24",width:90,halign:"center",align:"center"},{field:"",title:"25",width:90,halign:"center",align:"center"},{field:"",title:"26",width:90,halign:"center",align:"center"},{field:"",title:"27",width:90,halign:"center",align:"center"},{field:"",title:"28",width:90,halign:"center",align:"center"},{field:"",title:"29",width:90,halign:"center",align:"center"},{field:"",title:"30",width:90,halign:"center",align:"center"},{field:"",title:"31",width:90,halign:"center",align:"center"},{field:"",title:"32",width:90,halign:"center",align:"center"},{field:"",title:"33",width:90,halign:"center",align:"center"}],[{field:"buyer_name",title:"Buyer",width:60,halign:"center"},{field:"so_qty",title:"Order Qty",width:80,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatOrderQty},{field:"so_rate",title:"Rate/Pcs",width:80,halign:"center",align:"right"},{field:"so_amount",title:"Amount",width:80,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatOrderAmount},{field:"last_delivery_date",title:"Plan Ship Date",width:90,halign:"center"},{field:"file_no",title:"File No",width:80,halign:"center",align:"center",styler:MsLiabilityCoverageReport.formatfile,formatter:MsLiabilityCoverageReport.formatfileDetails},{field:"lc_amount",title:"Amount",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatLcAmount},{field:"limit_btb_open",title:"BTB Limit",width:90,halign:"center",align:"right"},{field:"btb_open_amount",title:"Opened",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatbtbopen},{field:"yet_btb_open",title:"Yet <br/>to Open",width:90,halign:"center",align:"right"},{field:"btb_liab_amount",title:"Current <br/>Liability",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatbtbadjust},{field:"limit_pc_taken",title:"PC Limit",width:90,halign:"center",align:"right"},{field:"pc_taken_mount",title:"PC Availed",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatpctaken},{field:"yet_pc_taken",title:"Yet <br/>to Avail",width:90,halign:"center",align:"right"},{field:"pc_liab_amount",title:"Current <br/>Liability",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatpcadjust},{field:"limit_doc_pur",title:"Purchase <br/> Limit",width:90,halign:"center",align:"right"},{field:"doc_taken_amount",title:"Purchased",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatdocpur},{field:"yet_doc_pur",title:"Yet to <br/>Purchase",width:90,halign:"center",align:"right"},{field:"doc_liab_amount",title:"Current <br/>Liability",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatdocadjust},{field:"sh_qty",title:"Ship Qty",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatshipQty},{field:"sh_amount",title:"Ship Amount",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatshipAmount},{field:"doc_in_process",title:"Doc In <br/>Process",width:90,halign:"center",align:"right"},{field:"un_rlz_amount",title:"Un- Realized <br/>Value",width:90,halign:"center",align:"right"},{field:"yet_to_ship_amount",title:"Yet to <br/>Ship Amount",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatshipYet},{field:"security",title:"Security",width:90,halign:"center",align:"right"},{field:"comments",title:"Comments",width:90,halign:"center",align:"right"},{field:"net_realised",title:"Net Realised",width:90,halign:"center",align:"right"},{field:"inc_claimable",title:"Claimable",width:90,halign:"center",align:"right"},{field:"inc_claimed_usd",title:"Claimed USD",width:90,halign:"center",align:"right"},{field:"inc_claimed_tk",title:"Claimed TK",width:90,halign:"center",align:"right"},{field:"inc_advence_usd",title:"Advence <br/>Taken USD",width:90,halign:"center",align:"right"},{field:"inc_advence_tk",title:"Advence <br/>Taken Tk",width:90,halign:"center",align:"right"},{field:"inc_realised",title:"Inc. Realised",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0,n=0,l=0,d=0,c=0,s=0,u=0,f=0,g=0,p=0,h=0,w=0,b=0,m=0,_=0,v=0,y=0,F=0,x=0,C=0,S=0,k=0,T=0,q=0,L=0,R=0,A=0;A<e.rows.length;A++)e.rows[A].so_qty&&(t+=1*e.rows[A].so_qty.replace(/,/g,"")),e.rows[A].so_amount&&(i+=1*e.rows[A].so_amount.replace(/,/g,"")),e.rows[A].lc_amount&&(r+=1*e.rows[A].lc_amount.replace(/,/g,"")),e.rows[A].limit_btb_open&&(o+=1*e.rows[A].limit_btb_open.replace(/,/g,"")),e.rows[A].btb_open_amount&&(n+=1*e.rows[A].btb_open_amount.replace(/,/g,"")),e.rows[A].yet_btb_open&&(l+=1*e.rows[A].yet_btb_open.replace(/,/g,"")),e.rows[A].btb_liab_amount&&(d+=1*e.rows[A].btb_liab_amount.replace(/,/g,"")),e.rows[A].limit_pc_taken&&(c+=1*e.rows[A].limit_pc_taken.replace(/,/g,"")),e.rows[A].pc_taken_mount&&(s+=1*e.rows[A].pc_taken_mount.replace(/,/g,"")),e.rows[A].yet_pc_taken&&(u+=1*e.rows[A].yet_pc_taken.replace(/,/g,"")),e.rows[A].pc_liab_amount&&(f+=1*e.rows[A].pc_liab_amount.replace(/,/g,"")),e.rows[A].limit_doc_pur&&(g+=1*e.rows[A].limit_doc_pur.replace(/,/g,"")),e.rows[A].doc_taken_amount&&(p+=1*e.rows[A].doc_taken_amount.replace(/,/g,"")),e.rows[A].yet_doc_pur&&(h+=1*e.rows[A].yet_doc_pur.replace(/,/g,"")),e.rows[A].doc_liab_amount&&(w+=1*e.rows[A].doc_liab_amount.replace(/,/g,"")),e.rows[A].tot_liab_amount&&(b+=1*e.rows[A].tot_liab_amount.replace(/,/g,"")),e.rows[A].sh_qty&&(m+=1*e.rows[A].sh_qty.replace(/,/g,"")),e.rows[A].sh_amount&&(_+=1*e.rows[A].sh_amount.replace(/,/g,"")),e.rows[A].doc_in_process&&(v+=1*e.rows[A].doc_in_process.replace(/,/g,"")),e.rows[A].un_rlz_amount&&(y+=1*e.rows[A].un_rlz_amount.replace(/,/g,"")),e.rows[A].yet_to_ship_amount&&(F+=1*e.rows[A].yet_to_ship_amount.replace(/,/g,"")),e.rows[A].security&&(x+=1*e.rows[A].security.replace(/,/g,"")),e.rows[A].net_realised&&(C+=1*e.rows[A].net_realised.replace(/,/g,"")),e.rows[A].inc_claimable&&(S+=1*e.rows[A].inc_claimable.replace(/,/g,"")),e.rows[A].inc_claimed_usd&&(k+=1*e.rows[A].inc_claimed_usd.replace(/,/g,"")),e.rows[A].inc_claimed_tk&&(T+=1*e.rows[A].inc_claimed_tk.replace(/,/g,"")),e.rows[A].inc_advence_usd&&(q+=1*e.rows[A].inc_advence_usd.replace(/,/g,"")),e.rows[A].inc_advence_tk&&(L+=1*e.rows[A].inc_advence_tk.replace(/,/g,"")),e.rows[A].inc_realised&&(R+=1*e.rows[A].inc_realised.replace(/,/g,""));a=i/t,$("#libacoreportmainTbl").datagrid("reloadFooter",[{buyer_name:"Total",so_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),so_rate:a.toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,"),so_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_amount:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),limit_btb_open:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),btb_open_amount:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_btb_open:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),btb_liab_amount:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),limit_pc_taken:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),pc_taken_mount:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_pc_taken:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),pc_liab_amount:f.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),limit_doc_pur:g.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),doc_taken_amount:p.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_doc_pur:h.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),doc_liab_amount:w.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),tot_liab_amount:b.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sh_qty:m.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sh_amount:_.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),doc_in_process:v.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),un_rlz_amount:y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_amount:F.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),security:x.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),net_realised:C.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inc_claimable:S.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inc_claimed_usd:k.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inc_claimed_tk:T.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inc_advence_usd:q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inc_advence_tk:L.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inc_realised:R.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){})}},{key:"resetForm",value:function(){msApp.resetForm(this.formId)}},{key:"formatfile",value:function(e,t,i){return"Coverd"==t.comments?"background-color:#8DF2AD;":"Under Risk"==t.status?"background-color:#E66775;":void 0}},{key:"formatfileDetails",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.filepdf('+t.file_no+')">'+t.file_no+"</a>"}},{key:"filepdf",value:function(e){window.open(msApp.baseUrl()+"/liabilitycoveragereport/getfilepdf?file_no="+e)}},{key:"formatOrderQty",value:function(e,t){return t.so_qty||(t.so_qty=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.orderQtyAmtPopUp('+t.file_no+')">'+t.so_qty+"</a>"}},{key:"formatOrderAmount",value:function(e,t){return t.so_amount||(t.so_amount=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.orderQtyAmtPopUp('+t.file_no+')">'+t.so_amount+"</a>"}},{key:"formatLcAmount",value:function(e,t){return t.lc_amount||(t.lc_amount=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.lcscQtyAmtPopUp('+t.file_no+')">'+t.lc_amount+"</a>"}},{key:"formatbtbopen",value:function(e,t){return t.btb_open_amount||(t.btb_open_amount=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.btbopenQtyAmtPopUp('+t.file_no+')">'+t.btb_open_amount+"</a>"}},{key:"formatbtbadjust",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.btbadjustQtyAmtPopUp('+t.file_no+')">'+t.btb_liab_amount+"</a>"}},{key:"formatbtbadjustDtail",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.btbadjustQtyAmtDtailPopUp('+t.imp_lc_id+')">'+t.accept_amount+"</a>"}},{key:"formatpctaken",value:function(e,t){return t.pc_taken_mount||(t.pc_taken_mount=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.pctakenQtyAmtPopUp('+t.file_no+')">'+t.pc_taken_mount+"</a>"}},{key:"formatpcadjust",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.pcadjustQtyAmtPopUp('+t.file_no+')">'+t.pc_liab_amount+"</a>"}},{key:"formatdocpur",value:function(e,t){return t.doc_taken_amount||(t.doc_taken_amount=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.docpurQtyAmtPopUp('+t.file_no+')">'+t.doc_taken_amount+"</a>"}},{key:"formatdocadjust",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.docadjustQtyAmtPopUp('+t.file_no+')">'+t.doc_liab_amount+"</a>"}},{key:"formatshipQty",value:function(e,t){return t.sh_qty||(t.sh_qty=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.shipQtyAmtPopUp('+t.file_no+')">'+t.sh_qty+"</a>"}},{key:"formatshipAmount",value:function(e,t){return t.sh_amount||(t.sh_amount=0),'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.shipQtyAmtPopUp('+t.file_no+')">'+t.sh_amount+"</a>"}},{key:"formatshipYet",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.shipQtyAmtPopUp('+t.file_no+')">'+t.yet_to_ship_amount+"</a>"}},{key:"formatimplcpo",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.formatimplcpoPopUp('+t.id+')">Click</a>'}},{key:"orderQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/order?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"buyer_name",title:"Buyer",width:60,halign:"center"},{field:"team_member_name",title:"Dealing Merchant",width:120,halign:"center"},{field:"style_ref",title:"Style",width:80,halign:"center"},{field:"sale_order_no",title:"Order No",halign:"center",width:80},{field:"ship_date",title:"Ship Date",width:80,halign:"center",align:"right"},{field:"qty",title:"Qty",width:90,halign:"center",align:"right"},{field:"rate",title:"Rate",width:80,halign:"center",align:"right"},{field:"amount",title:"Amount",width:90,halign:"center",align:"right"},{field:"fin_fab_req",title:"Fabric Req Qty",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatfinfabrq},{field:"fin_fab_req_amount",title:"Fabric Req Cost",width:90,halign:"center",align:"right"},{field:"yarn_req",title:"Yarn Req Qty",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatyarnrq},{field:"yarn_req_amount",title:"Yarn Req Amount",width:90,halign:"center",align:"right"},{field:"trim_amount",title:"Accessories Cost",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0,n=0,l=0,d=0,c="",s=0;s<e.rows.length;s++)c=e.rows[s].file_no,e.rows[s].qty&&(t+=1*e.rows[s].qty),e.rows[s].amount&&(i+=1*e.rows[s].amount),e.rows[s].yarn_req&&(r+=1*e.rows[s].yarn_req),e.rows[s].yarn_req_amount&&(o+=1*e.rows[s].yarn_req_amount),e.rows[s].trim_amount&&(n+=1*e.rows[s].trim_amount),e.rows[s].fin_fab_req&&(l+=1*e.rows[s].fin_fab_req),e.rows[s].fin_fab_req_amount&&(d+=1*e.rows[s].fin_fab_req_amount);a=i/t,$("#libacoreportTbl").datagrid("reloadFooter",[{buyer_name:"Total",qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:a.toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req_amount:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),trim_amount:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req_amount:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),file_no:c}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"Order Details",width:"100%"}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"detailsYarnWindow",value:function(e,t){var i=this.getParams();i.id=e,i.file_no=t,axios.get(msApp.baseUrl()+"/liabilitycoveragereport/getyarn",{params:i}).then(function(t){e?($("#rqbudgetyarnTbl").datagrid("loadData",t.data),$("#rqbudgetyarnWindow").window("open")):($("#rqbudgetyarnTbl2").datagrid("loadData",t.data),$("#rqbudgetyarnWindow2").window("open"))}).catch(function(e){})}},{key:"showGridYarn",value:function(e){var t=$("#rqbudgetyarnTbl2");t.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0,n=0,l=0,d=0,c=0,s=0,u=0,f=0;f<e.rows.length;f++)t+=1*e.rows[f].yarn_req.replace(/,/g,""),i+=1*e.rows[f].req_amount.replace(/,/g,""),r+=1*e.rows[f].po_qty.replace(/,/g,""),o+=1*e.rows[f].po_amount.replace(/,/g,""),n+=1*e.rows[f].lc_qty.replace(/,/g,""),l+=1*e.rows[f].lc_amount.replace(/,/g,""),d+=1*e.rows[f].po_bal_qty.replace(/,/g,""),c+=1*e.rows[f].po_bal_amount.replace(/,/g,""),s+=1*e.rows[f].lc_bal_qty.replace(/,/g,""),u+=1*e.rows[f].lc_bal_amount.replace(/,/g,"");a=i/t,$("#rqbudgetyarnTbl2").datagrid("reloadFooter",[{yarn_req:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),req_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:a.toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_amount:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_qty:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_amount:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_qty:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_amount:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_qty:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_amount:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),t.datagrid("enableFilter").datagrid("loadData",e)}},{key:"showGridYarnS",value:function(e){var t=$("#rqbudgetyarnTbl");t.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0,n=0,l=0,d=0,c=0,s=0,u=0,f=0;f<e.rows.length;f++)t+=1*e.rows[f].yarn_req.replace(/,/g,""),i+=1*e.rows[f].req_amount.replace(/,/g,""),r+=1*e.rows[f].po_qty.replace(/,/g,""),o+=1*e.rows[f].po_amount.replace(/,/g,""),n+=1*e.rows[f].lc_qty.replace(/,/g,""),l+=1*e.rows[f].lc_amount.replace(/,/g,""),d+=1*e.rows[f].po_bal_qty.replace(/,/g,""),c+=1*e.rows[f].po_bal_amount.replace(/,/g,""),s+=1*e.rows[f].lc_bal_qty.replace(/,/g,""),u+=1*e.rows[f].lc_bal_amount.replace(/,/g,"");a=i/t,$("#rqbudgetyarnTbl").datagrid("reloadFooter",[{yarn_req:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),req_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:a.toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_amount:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_qty:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_amount:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_qty:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_amount:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_qty:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_amount:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),t.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatyarnrq",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.detailsYarnWindow('+t.id+",'"+t.file_no+"')\">"+t.yarn_req+"</a>"}},{key:"showExcel",value:function(e){var t=this.getParams();t.id=e;axios.get(msApp.baseUrl()+"/liabilitycoveragereport/getyarn",{params:t}).then(function(t){e?$("#rqbudgetyarnTbl").datagrid("toExcel","Item wise yarn details.xls"):$("#rqbudgetyarnTbl2").datagrid("toExcel","Item wise yarn details.xls")}).catch(function(e){})}},{key:"detailsFinFabWindow",value:function(e,t){var i=this.getParams();i.id=e,i.file_no=t,axios.get(msApp.baseUrl()+"/liabilitycoveragereport/getfinfab",{params:i}).then(function(t){e?($("#rqbudgetfinfabTbl").datagrid("loadData",t.data),$("#rqbudgetfinfabWindow").window("open")):($("#rqbudgetfinfabTbl2").datagrid("loadData",t.data),$("#rqbudgetfinfabWindow2").window("open"))}).catch(function(e){})}},{key:"showGridFinfab",value:function(e){var t=$("#rqbudgetfinfabTbl2");t.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0,n=0,l=0,d=0,c=0,s=0,u=0,f=0;f<e.rows.length;f++)t+=1*e.rows[f].fin_fab_req.replace(/,/g,""),i+=1*e.rows[f].fin_fab_req_amount.replace(/,/g,""),r+=1*e.rows[f].po_qty.replace(/,/g,""),o+=1*e.rows[f].po_amount.replace(/,/g,""),n+=1*e.rows[f].lc_qty.replace(/,/g,""),l+=1*e.rows[f].lc_amount.replace(/,/g,""),d+=1*e.rows[f].po_bal_qty.replace(/,/g,""),c+=1*e.rows[f].po_bal_amount.replace(/,/g,""),s+=1*e.rows[f].lc_bal_qty.replace(/,/g,""),u+=1*e.rows[f].lc_bal_amount.replace(/,/g,"");a=i/t,$("#rqbudgetfinfabTbl2").datagrid("reloadFooter",[{fin_fab_req:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:a.toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_amount:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_qty:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_amount:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_qty:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_amount:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_qty:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_amount:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),t.datagrid("enableFilter").datagrid("loadData",e)}},{key:"showGridFinfabS",value:function(e){var t=$("#rqbudgetfinfabTbl");t.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0,n=0,l=0,d=0,c=0,s=0,u=0,f=0;f<e.rows.length;f++)t+=1*e.rows[f].fin_fab_req.replace(/,/g,""),i+=1*e.rows[f].fin_fab_req_amount.replace(/,/g,""),r+=1*e.rows[f].po_qty.replace(/,/g,""),o+=1*e.rows[f].po_amount.replace(/,/g,""),n+=1*e.rows[f].lc_qty.replace(/,/g,""),l+=1*e.rows[f].lc_amount.replace(/,/g,""),d+=1*e.rows[f].po_bal_qty.replace(/,/g,""),c+=1*e.rows[f].po_bal_amount.replace(/,/g,""),s+=1*e.rows[f].lc_bal_qty.replace(/,/g,""),u+=1*e.rows[f].lc_bal_amount.replace(/,/g,"");a=i/t,$("#rqbudgetfinfabTbl").datagrid("reloadFooter",[{fin_fab_req:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:a.toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_amount:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_qty:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_amount:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_qty:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),po_bal_amount:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_qty:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),lc_bal_amount:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),t.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatfinfabrq",value:function(e,t){return'<a href="javascript:void(0)" onClick="MsLiabilityCoverageReport.detailsFinFabWindow('+t.id+",'"+t.file_no+"')\">"+t.fin_fab_req+"</a>"}},{key:"lcscQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/lcsc?file_no="+e);t.then(function(e){var t=0,i=0;$("#libacoreportWindow").window("clear");var a=$("#libacoreportWindow").window("body");$(a).html('<table id="libacoreportTbl"></table><table id="libacoreportTbl2"></table><table id="libacoreportTbl3"></table>'),$("#libacoreportTbl").datagrid({title:"A. Replaceable Sales Contract",width:"100%",height:"33%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"buyer_name",title:"Buyer",width:60,halign:"center"},{field:"lc_sc_no",title:"LC/SC NO",width:150,halign:"center"},{field:"lc_sc_date",title:"LC/SC Date",halign:"center",width:80},{field:"last_delivery_date",title:"Last Ship Date",width:80,halign:"center",align:"right"},{field:"amount",title:"LC/SC Value",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var a=0,r=0;r<e.rows.length;r++)e.rows[r].amount&&(a+=1*e.rows[r].amount);t+=a,i=a,$("#libacoreportTbl").datagrid("reloadFooter",[{buyer_name:"Total",amount:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}]),$("#libacoreportTbl").datagrid("mergeCells",{index:0,field:"buyer_name",colspan:2,type:"footer"})}}).datagrid("loadData",e.data.ReplaceableSalesContract),$("#libacoreportTbl2").datagrid({title:"B. Direct LC / SC",width:"100%",height:"33%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"buyer_name",title:"Buyer",width:60,halign:"center"},{field:"lc_sc_no",title:"LC/SC NO",width:150,halign:"center"},{field:"lc_sc_date",title:"LC/SC Date",halign:"center",width:80},{field:"last_delivery_date",title:"Last Ship Date",width:80,halign:"center",align:"right"},{field:"amount",title:"LC/SC Value",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var i=0,a=0;a<e.rows.length;a++)e.rows[a].amount&&(i+=1*e.rows[a].amount);t+=i,$("#libacoreportTbl2").datagrid("reloadFooter",[{buyer_name:"Total",amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},{buyer_name:"C. Total LC / SC Value (A+B)",amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}]),$("#libacoreportTbl2").datagrid("mergeCells",{index:0,field:"buyer_name",colspan:2,type:"footer"}),$("#libacoreportTbl2").datagrid("mergeCells",{index:1,field:"buyer_name",colspan:2,type:"footer"})}}).datagrid("loadData",e.data.direct),$("#libacoreportTbl3").datagrid({title:"D. Replaced LC / SC",width:"100%",height:"33%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"buyer_name",title:"Buyer",width:60,halign:"center"},{field:"lc_sc_no",title:"LC/SC NO",width:150,halign:"center"},{field:"lc_sc_date",title:"LC/SC Date",halign:"center",width:80},{field:"last_delivery_date",title:"Last Ship Date",width:80,halign:"center",align:"right"},{field:"amount",title:"LC/SC Value",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,a=0;a<e.rows.length;a++)e.rows[a].amount&&(t+=1*e.rows[a].amount);var r=i-t;$("#libacoreportTbl3").datagrid("reloadFooter",[{buyer_name:"Total",amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},{buyer_name:"Yet to Replace (A-D)",amount:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}]),$("#libacoreportTbl3").datagrid("mergeCells",{index:0,field:"buyer_name",colspan:2,type:"footer"}),$("#libacoreportTbl3").datagrid("mergeCells",{index:1,field:"buyer_name",colspan:2,type:"footer"})}}).datagrid("loadData",e.data.Replaced)}).catch(function(e){});$("#libacoreportWindow").window({title:"LC/SC Details",width:530}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"btbopenQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/btbopen?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"lc_no",title:"BTB LC NO",width:150,halign:"center"},{field:"company_name",title:"Company",width:60,halign:"center"},{field:"menu_name",title:"PO Type",width:100,halign:"center"},{field:"lc_date",title:"BTB LC Date",halign:"center",width:80},{field:"bank_name",title:"Bank",halign:"center",width:180},{field:"supplier_name",title:"Supplier",halign:"center",width:80},{field:"amount",title:"BTB Value",width:90,halign:"center",align:"right"},{field:"last_delivery_date",title:"Last Ship Date",width:80,halign:"center"},{field:"expiry_date",title:"Expiry Date ",width:80,halign:"center"},{field:"pay_term",title:"Pay term ",width:80,halign:"center"},{field:"po_no",title:"Po No",width:80,halign:"center",formatter:MsLiabilityCoverageReport.formatimplcpo}]],rowStyler:function(e,t){if("Sub Total"===t.lc_no)return"background-color:pink;color:#000000;font-weight:bold;"},onLoadSuccess:function(e){for(var t=0,i=0;i<e.rows.length;i++)"Sub Total"!==e.rows[i].lc_no&&(t+=1*e.rows[i].amount.replace(/,/g,""));$("#libacoreportTbl").datagrid("reloadFooter",[{lc_no:"Total",amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"BTB Open",width:1100}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"formatimplcpoPopUp",value:function(e){var t={};t.imp_lc_id=e;axios.get(msApp.baseUrl()+"/implcpo",{params:t}).then(function(e){$("#libacoreportbtbopenpoTbl").datagrid("loadData",e.data),$("#libacoreportbtbopenpoWindow").window("open")}).catch(function(e){})}},{key:"formatimplcpoGrid",value:function(e){var t=$("#libacoreportbtbopenpoTbl");t.datagrid({border:!1,fit:!0,singleSelect:!1,idField:"id",rownumbers:!0,showFooter:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var t=0,i=0;i<e.rows.length;i++)t+=1*e.rows[i].amount.replace(/,/g,"");$(this).datagrid("reloadFooter",[{amount:Math.round(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}])}}),t.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatimplcpoPdf",value:function(e,t){return'<a href="javascript:void(0)"  onClick="MsLiabilityCoverageReport.poPdf('+t.purchase_order_id+","+t.menu_id+')">'+t.po_no+"</a>"}},{key:"poPdf",value:function(e,t){2==t&&window.open(msApp.baseUrl()+"/potrim/reportshort?id="+e),3==t&&window.open(msApp.baseUrl()+"/poyarn/report?id="+e),4==t&&window.open(msApp.baseUrl()+"/poknitservice/report?id="+e),6==t&&window.open(msApp.baseUrl()+"/podyeingservice/report?id="+e),7==t&&window.open(msApp.baseUrl()+"/podyechem/report?id="+e),8==t&&window.open(msApp.baseUrl()+"/pogeneral/report?id="+e),9==t&&window.open(msApp.baseUrl()+"/poyarndyeing/report?id="+e)}},{key:"btbadjustQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/btbadjust?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"lc_no",title:"BTB LC NO",width:150,halign:"center"},{field:"bank_name",title:"Bank",halign:"center",width:180},{field:"supplier_name",title:"Supplier",halign:"center",width:80},{field:"btb_amount",title:"BTB Value",width:90,halign:"center",align:"right"},{field:"accept_amount",title:"Accepted Value",width:90,halign:"center",align:"right",formatter:MsLiabilityCoverageReport.formatbtbadjustDtail},{field:"amount",title:"Liability Adjusted",width:90,halign:"center",align:"right"},{field:"balance",title:"Balance",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0;o<e.rows.length;o++)e.rows[o].btb_amount&&(t+=1*e.rows[o].btb_amount),e.rows[o].accept_amount&&(i+=1*e.rows[o].accept_amount),e.rows[o].amount&&(a+=1*e.rows[o].amount),e.rows[o].balance&&(r+=1*e.rows[o].balance);$("#libacoreportTbl").datagrid("reloadFooter",[{lc_no:"Total",btb_amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),accept_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),balance:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"BTB Adjust",width:850}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"btbadjustQtyAmtDtailPopUp",value:function(e){var t=axios.get(this.route+"/btbadjustacceptdtail?imp_lc_id="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"acceptance_id",title:"Acceptance ID",width:40,halign:"center",align:"right"},{field:"lc_no",title:"BTB LC NO",width:120,halign:"center"},{field:"bank_name",title:"Bank",halign:"center",width:100},{field:"supplier_name",title:"Supplier",halign:"center",width:60},{field:"invoice_no",title:"Invoice No",width:70,halign:"center"},{field:"invoice_date",title:"Invoice Date",width:70,halign:"center"},{field:"bank_ref",title:"Bank Ref",width:90,halign:"center"},{field:"bank_accep_date",title:"BankRef Date",width:70,halign:"center"},{field:"doc_value",title:"Doc Value",width:80,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0;o<e.rows.length;o++)e.rows[o].btb_amount&&(t+=1*e.rows[o].btb_amount),e.rows[o].accept_amount&&(i+=1*e.rows[o].accept_amount),e.rows[o].amount&&(a+=1*e.rows[o].amount),e.rows[o].balance&&(r+=1*e.rows[o].balance);$("#libacoreportTbl").datagrid("reloadFooter",[{lc_no:"Total",btb_amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),accept_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),balance:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"BTB Adjust",width:850}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"pctakenQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/pctaken?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"lc_sc_no",title:"LC NO",width:150,halign:"center"},{field:"loan_no",title:"Loan NO",width:150,halign:"center"},{field:"cr_date",title:"Loan Date",halign:"center",width:80},{field:"amount",title:"Loan Amount",width:90,halign:"center",align:"right"},{field:"exch_rate",title:"Exch.Rate",width:70,halign:"center",align:"right"},{field:"credit_taken",title:"Credit Taken",width:90,halign:"center",align:"right"},{field:"tenor",title:"Tenure",width:80,halign:"center",align:"right"},{field:"maturity_date",title:"Maturity Date ",width:80,halign:"center"}]],onLoadSuccess:function(e){for(var t=0,i=0;i<e.rows.length;i++)e.rows[i].amount&&(t+=1*e.rows[i].amount);$("#libacoreportTbl").datagrid("reloadFooter",[{loan_no:"Total",amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"PC Taken",width:550}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"pcadjustQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/pcadjust?file_no="+e);t.then(function(e){var t=0;$("#libacoreportWindow").window("clear");var i=$("#libacoreportWindow").window("body");$(i).html('<table id="libacoreportTbl"></table><table id="libacoreportTbl2"></table>'),$("#libacoreportTbl").datagrid({title:"A. PC Taken",width:"100%",height:"50%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"loan_no",title:"Loan NO",width:150,halign:"center"},{field:"cr_date",title:"Loan Date",halign:"center",width:80},{field:"amount",title:"Loan Amount",width:90,halign:"center",align:"right"},{field:"tenor",title:"Tenure",width:80,halign:"center",align:"right"},{field:"maturity_date",title:"Maturity Date ",width:80,halign:"center"}]],onLoadSuccess:function(e){for(var i=0,a=0;a<e.rows.length;a++)e.rows[a].amount&&(i+=1*e.rows[a].amount);t+=i,$("#libacoreportTbl").datagrid("reloadFooter",[{loan_no:"Total",amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("loadData",e.data.pctaken),$("#libacoreportTbl2").datagrid({width:"100%",height:"50%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"bill_no",title:"Bank Ref/Bill NO",halign:"center",width:150},{field:"ad_date",title:"Adjusted Date",halign:"center",width:80},{field:"event",title:"Event",halign:"center",width:150},{field:"amount",title:"Loan Amount",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var i=0,a=0;a<e.rows.length;a++)e.rows[a].amount&&(i+=1*e.rows[a].amount);var r=t-i;$("#libacoreportTbl2").datagrid("reloadFooter",[{event:"Total",amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},{event:"Balance",amount:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("loadData",e.data.adjust)}).catch(function(e){});$("#libacoreportWindow").window({title:"PC Adjust",width:550}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"docpurQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/docpur?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"bank_ref_bill_no",title:"Bank Ref No",width:150,halign:"center"},{field:"bank_ref_date",title:"Bank Ref Date",halign:"center",width:80},{field:"amount",title:"Amount",width:90,halign:"center",align:"right"},{field:"pc_amount",title:"PC A/C",width:80,halign:"center",align:"right"},{field:"cd_amount",title:"CD A/C",width:80,halign:"center",align:"right"},{field:"other",title:"Others",width:80,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0,o=0;o<e.rows.length;o++)e.rows[o].amount&&(t+=1*e.rows[o].amount),e.rows[o].pc_amount&&(i+=1*e.rows[o].pc_amount),e.rows[o].cd_amount&&(a+=1*e.rows[o].cd_amount),e.rows[o].other&&(r+=1*e.rows[o].other);$("#libacoreportTbl").datagrid("reloadFooter",[{bank_ref_bill_no:"Total",amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),pc_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cd_amount:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),other:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"Doc Purchase",width:650}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"docadjustQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/docadjust?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",fit:!0,showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"bank_ref_bill_no",title:"Bank Ref No",width:150,halign:"center"},{field:"realization_date",title:"Adjust Date",halign:"center",width:80},{field:"amount",title:"Purchased",width:90,halign:"center",align:"right"},{field:"doc_adj_amount",title:"Adjusted",width:80,halign:"center",align:"right"},{field:"balance",title:"Balance",width:80,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0;r<e.rows.length;r++)e.rows[r].amount&&(t+=1*e.rows[r].amount),e.rows[r].doc_adj_amount&&(i+=1*e.rows[r].doc_adj_amount),e.rows[r].balance&&(a+=1*e.rows[r].balance);$("#libacoreportTbl").datagrid("reloadFooter",[{bank_ref_bill_no:"Total",amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),doc_adj_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),balance:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"Doc Purchase",width:650}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}},{key:"shipQtyAmtPopUp",value:function(e){var t=axios.get(this.route+"/invoiceqty?file_no="+e);t.then(function(e){$("#libacoreportWindow").window("clear");var t=$("#libacoreportWindow").window("body");$(t).html('<table id="libacoreportTbl"></table>'),$("#libacoreportTbl").datagrid({width:"100%",height:"100%",showFooter:!0,singleSelect:!0,idField:"id",rownumbers:!0,columns:[[{field:"company_id",title:"Company",width:60,halign:"left"},{field:"lc_sc_no",title:"LC/SC No",width:150,halign:"left"},{field:"lc_sc_date",title:"LC/SC Date",halign:"left",width:80},{field:"lien_bank",title:"Lien Bank",width:100,halign:"center",align:"left"},{field:"buyer_name",title:"Buyer",width:150,halign:"center",align:"left"},{field:"invoice_no",title:"Invoice No",width:80,halign:"center",align:"left"},{field:"invoice_date",title:"Invoice Date",width:90,halign:"center",align:"left"},{field:"invoice_qty",title:"Invoice Qty",width:90,halign:"center",align:"right"},{field:"invoice_rate",title:"Invoice Rate",width:90,halign:"center",align:"right"},{field:"invoice_amount",title:"Invoice Amount",width:90,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var t=0,i=0,a=0,r=0;r<e.rows.length;r++)e.rows[r].invoice_qty&&(t+=1*e.rows[r].invoice_qty),e.rows[r].invoice_amount&&(i+=1*e.rows[r].invoice_amount);a=i/t,$("#libacoreportTbl").datagrid("reloadFooter",[{buyer_name:"Total",invoice_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),invoice_rate:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),invoice_amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}).datagrid("enableFilter").datagrid("loadData",e.data)}).catch(function(e){});$("#libacoreportWindow").window({title:"Ship Details",width:1100}),$("#libacoreportWindow").window("open"),$("#libacoreportWindow").window("center")}}]),e}();window.MsLiabilityCoverageReport=new n(new o),MsLiabilityCoverageReport.formatimplcpoGrid([]),MsLiabilityCoverageReport.showGridYarnS([]),MsLiabilityCoverageReport.showGridYarn([]),MsLiabilityCoverageReport.showGridFinfabS([]),MsLiabilityCoverageReport.showGridFinfab([])},48:function(e,t,i){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=i(0),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),t}(n);e.exports=l}});