!function(e){function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var t={};r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=151)}({0:function(e,r,t){function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),l=t(1),n=function(){function e(){i(this,e),this.http=l}return o(e,[{key:"upload",value:function(e,r,t,i){var o=this.http,l=this;o.onreadystatechange=function(){if(4==o.readyState){var e=o.responseText,r=JSON.parse(e);if("object"==(void 0===r?"undefined":a(r)))if(1==r.success)msApp.showSuccess(r.message),i(r);else if(0==r.success)msApp.showError(r.message);else{var t=l.message(r);msApp.showError(t.message,t.key)}}},o.open(r,e,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("x-csrf-token",$('meta[name="csrf-token"]').attr("content")),o.send(t)}},{key:"save",value:function(e,r,t,i){var o=this.http,l=this;o.onreadystatechange=function(){if(4==o.readyState){var e=o.responseText,r=JSON.parse(e);if("object"==(void 0===r?"undefined":a(r)))if(1==r.success)msApp.showSuccess(r.message),i(r);else if(0==r.success)msApp.showError(r.message);else{var t=l.message(r);msApp.showError(t.message,t.key)}$.unblockUI()}},o.open(r,e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("x-csrf-token",$('meta[name="csrf-token"]').attr("content")),o.send(t)}},{key:"saves",value:function(e,r,t,i){var a=this,o="";return"post"==r&&(o=axios.post(e,t)),"put"==r&&(o=axios.put(e,t)),o.then(function(e){var r=e.data;1==r.success&&msApp.showSuccess(r.message),0==r.success&&msApp.showError(r.message)}).catch(function(e){var r=e.response.data;if(0==r.success)msApp.showError(r.message);else{var t=a.message(r);msApp.showError(t.message,t.key)}}),o}},{key:"get",value:function(e,r){var t=axios.get(r.route+"/"+r.id+"/edit");return t.then(function(t){msApp.set(e,r,t.data)}).catch(function(e){}),t}},{key:"getHtml",value:function(e,r,t){var i=this.http;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var e=i.responseText;msApp.setHtml(t,e)}},i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("x-csrf-token",$('meta[name="csrf-token"]').attr("content")),i.send(msApp.qs.stringify(r))}},{key:"message",value:function(e){var r=e.errors;msgObj={};for(var t in r)return msgObj.key=t,msgObj.message=r[t],msgObj}}]),e}();e.exports=n},1:function(e,r){var t=function(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else{if(!window.ActiveXObject)return!1;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(r){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return e}();e.exports=t},151:function(e,r,t){e.exports=t(152)},152:function(e,r,t){function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),l=t(153);t(2);var n=function(){function e(r){a(this,e),this.MsOrderProgressModel=r,this.formId="orderprogressFrm",this.dataTable="#orderprogressTbl",this.route=msApp.baseUrl()+"/orderprogress"}return o(e,[{key:"getParams",value:function(){var e={};return e.company_id=$("#orderprogressFrm  [name=company_id]").val(),e.produced_company_id=$("#orderprogressFrm  [name=produced_company_id]").val(),e.buyer_id=$("#orderprogressFrm  [name=buyer_id]").val(),e.style_ref=$("#orderprogressFrm  [name=style_ref]").val(),e.style_id=$("#orderprogressFrm  [name=style_id]").val(),e.factory_merchant_id=$("#orderprogressFrm  [name=factory_merchant_id]").val(),e.date_from=$("#orderprogressFrm  [name=date_from]").val(),e.date_to=$("#orderprogressFrm  [name=date_to]").val(),e.order_status=$("#orderprogressFrm  [name=order_status]").val(),e.receive_date_from=$("#orderprogressFrm  [name=receive_date_from]").val(),e.receive_date_to=$("#orderprogressFrm  [name=receive_date_to]").val(),e.sort_by=$("#orderprogressFrm  [name=sort_by]").val(),e}},{key:"get",value:function(){$("#orderprogressTab").tabs("select",0);var e=this.getParams();axios.get(this.route+"/getdata",{params:e}).then(function(e){$("#orderprogressTbl").datagrid("loadData",e.data)}).catch(function(e){})}},{key:"showGrid",value:function(e){var r=$(this.dataTable);r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0,n=0,d=0,s=0,c=0,g=0,p=0,u=0,h=0,f=0,y=0,_=0,w=0,m=0,b=0,v=0,F=0,q=0,x=0,k=0,S=0,P=0,M=0,O=0,C=0,R=0,T=0,D=0,I=0,W=0,j=0,A=0,B=0,Q=0,L=0,G=0,N=0,U=0,E=0,Y=0,z=0,H=0,V=0,X=0,K=0,J=0,Z=0,ee=0,re=0,te=0,ie=0,ae=0,oe=0;oe<e.rows.length;oe++)r+=1*e.rows[oe].qty.replace(/,/g,""),t+=1*e.rows[oe].amount.replace(/,/g,""),i+=1*e.rows[oe].booked_minute.replace(/,/g,""),a+=1*e.rows[oe].target_qty.replace(/,/g,""),o+=1*e.rows[oe].ship_qty.replace(/,/g,""),l+=1*e.rows[oe].ship_value.replace(/,/g,""),n+=1*e.rows[oe].yet_to_ship_qty.replace(/,/g,""),d+=1*e.rows[oe].yet_to_ship_value.replace(/,/g,""),s+=1*e.rows[oe].dyed_yarn_rq.replace(/,/g,""),c+=1*e.rows[oe].grey_yarn_issue_qty_for_dye.replace(/,/g,""),g+=1*e.rows[oe].grey_yarn_issue_for_dye_bal.replace(/,/g,""),p+=1*e.rows[oe].dyed_yarn_rcv_qty.replace(/,/g,""),u+=1*e.rows[oe].dyed_yarn_bal_qty.replace(/,/g,""),h+=1*e.rows[oe].yarn_req.replace(/,/g,""),f+=1*e.rows[oe].poyarnlc_qty.replace(/,/g,""),y+=1*e.rows[oe].poyarnlc_qty_bal.replace(/,/g,""),_+=1*e.rows[oe].yarn_rcv.replace(/,/g,""),w+=1*e.rows[oe].yarn_rcv_bal.replace(/,/g,""),m+=1*e.rows[oe].inh_yarn_isu_qty.replace(/,/g,""),b+=1*e.rows[oe].out_yarn_isu_qty.replace(/,/g,""),v+=1*e.rows[oe].yarn_req_bal.replace(/,/g,""),F+=1*e.rows[oe].knit_qty.replace(/,/g,""),q+=1*e.rows[oe].knit_bal.replace(/,/g,""),x+=1*e.rows[oe].batch_qty.replace(/,/g,""),k+=1*e.rows[oe].batch_bal.replace(/,/g,""),S+=1*e.rows[oe].dyeing_qty.replace(/,/g,""),P+=1*e.rows[oe].dyeing_bal.replace(/,/g,""),M+=1*e.rows[oe].fin_fab_req.replace(/,/g,""),O+=1*e.rows[oe].finish_qty.replace(/,/g,""),C+=1*e.rows[oe].finish_bal.replace(/,/g,""),R+=1*e.rows[oe].plan_cut_qty.replace(/,/g,""),T+=1*e.rows[oe].cut_qty.replace(/,/g,""),D+=1*e.rows[oe].cut_bal.replace(/,/g,""),I+=1*e.rows[oe].req_scr_qty.replace(/,/g,""),W+=1*e.rows[oe].snd_scr_qty.replace(/,/g,""),j+=1*e.rows[oe].snd_scr_qty_bal.replace(/,/g,""),A+=1*e.rows[oe].rcv_scr_qty.replace(/,/g,""),B+=1*e.rows[oe].bal_scr_qty.replace(/,/g,""),Q+=1*e.rows[oe].sew_line_qty.replace(/,/g,""),L+=1*e.rows[oe].sew_line_bal.replace(/,/g,""),G+=1*e.rows[oe].sew_qty.replace(/,/g,""),N+=1*e.rows[oe].sew_bal.replace(/,/g,""),U+=1*e.rows[oe].iron_qty.replace(/,/g,""),E+=1*e.rows[oe].iron_bal_qty.replace(/,/g,""),Y+=1*e.rows[oe].iron_bal.replace(/,/g,""),z+=1*e.rows[oe].poly_qty.replace(/,/g,""),H+=1*e.rows[oe].poly_bal_qty.replace(/,/g,""),V+=1*e.rows[oe].poly_bal.replace(/,/g,""),X+=1*e.rows[oe].car_qty.replace(/,/g,""),K+=1*e.rows[oe].car_bal.replace(/,/g,""),J+=1*e.rows[oe].insp_pass_qty.replace(/,/g,""),Z+=1*e.rows[oe].insp_re_check_qty.replace(/,/g,""),ee+=1*e.rows[oe].insp_faild_qty.replace(/,/g,""),re+=1*e.rows[oe].ci_qty.replace(/,/g,""),te+=1*e.rows[oe].ci_qty_bal.replace(/,/g,""),ie+=1*e.rows[oe].ci_amount.replace(/,/g,""),ae+=1*e.rows[oe].ci_amount_bal.replace(/,/g,"");var le=0;r>0&&(le=t/r),$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:le.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),booked_minute:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),target_qty:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_qty:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_value:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_qty:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_value:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyed_yarn_rq:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),grey_yarn_issue_qty_for_dye:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),grey_yarn_issue_for_dye_bal:g.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyed_yarn_rcv_qty:p.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyed_yarn_bal_qty:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req:h.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poyarnlc_qty:f.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poyarnlc_qty_bal:y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv:_.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv_bal:w.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),inh_yarn_isu_qty:m.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),out_yarn_isu_qty:b.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req_bal:v.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_qty:F.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_bal:q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_qty:x.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_bal:k.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_qty:S.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_bal:P.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req:M.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_qty:O.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_bal:C.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),plan_cut_qty:R.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_qty:T.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_bal:D.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),req_scr_qty:I.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),snd_scr_qty:W.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),snd_scr_qty_bal:j.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rcv_scr_qty:A.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),bal_scr_qty:B.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_qty:Q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_bal:L.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_qty:G.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_bal:N.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_qty:U.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_bal_qty:E.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_bal:Y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_qty:z.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_bal_qty:H.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_bal:V.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_qty:X.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_bal:K.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_pass_qty:J.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_re_check_qty:Z.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_faild_qty:ee.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty:re.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_bal:te.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_amount:ie.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_amount_bal:ae.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"showExcel",value:function(e,r){var t=this.getParams();axios.get(this.route+"/getdata",{params:t}).then(function(t){$("#orderprogressTbl").datagrid("loadData",t.data),msApp.toExcel(e,r)}).catch(function(e){})}},{key:"resetForm",value:function(){msApp.resetForm(this.formId)}},{key:"formatteamleader",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.teamleaderWindow('+r.teamleader_id+')">'+r.team_name+"</a>"}},{key:"teamleaderWindow",value:function(e){axios.get(msApp.baseUrl()+"/orderprogress/getdlmerchant?user_id="+e).then(function(e){$("#dealmctinfoTbl").datagrid("loadData",e.data),$("#dlmerchantWindow").window("open")}).catch(function(e){})}},{key:"formatdlmerchant",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.dlmerchantWindow('+r.user_id+')">'+r.team_member_name+"</a>"}},{key:"dlmerchantWindow",value:function(e){axios.get(msApp.baseUrl()+"/orderprogress/getdlmerchant?user_id="+e).then(function(e){$("#dealmctinfoTbl").datagrid("loadData",e.data),$("#dlmerchantWindow").window("open")}).catch(function(e){})}},{key:"showGridDlmct",value:function(e){var r=$("#dealmctinfoTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found"}),r.datagrid("loadData",e)}},{key:"formatbuyingAgent",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.buyingAgentWindow('+r.buying_agent_id+')">'+r.buying_agent_name+"</a>"}},{key:"buyingAgentWindow",value:function(e){axios.get(msApp.baseUrl()+"/orderprogress/getbuyhouse?buyer_id="+e).then(function(e){$("#buyagentTbl").datagrid("loadData",e.data),$("#buyagentwindow").window("open")}).catch(function(e){})}},{key:"showGridBAgent",value:function(e){var r=$("#buyagentTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!1,fit:!0,rownumbers:!0,emptyMsg:"No Record Found"}),r.datagrid("loadData",e)}},{key:"formatopfiles",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.opfileWindow('+r.style_id+')">'+r.style_ref+"</a>"}},{key:"opfileWindow",value:function(e){axios.get(msApp.baseUrl()+"/orderprogress/getopfile?style_id="+e).then(function(e){$("#opfilesrcTbl").datagrid("loadData",e.data),$("#opfilesrcwindow").window("open")}).catch(function(e){})}},{key:"showGridOpFileSrc",value:function(e){var r=$("#opfilesrcTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found"}),r.datagrid("loadData",e)}},{key:"formatShowOpFile",value:function(e,r){return'<a download href="'+msApp.baseUrl()+"/images/"+r.file_src+'">'+r.original_name+"</a>"}},{key:"formatlcsc",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.lcscWindow('+r.sale_order_id+')">'+r.lc_sc_no+"</a>"}},{key:"lcscWindow",value:function(e){axios.get(msApp.baseUrl()+"/orderprogress/getlcsc?sale_order_id="+e).then(function(e){$("#oplcscTbl").datagrid("loadData",e.data),$("#oplcscwindow").window("open")}).catch(function(e){})}},{key:"showGridLcSc",value:function(e){var r=$("#oplcscTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found"}),r.datagrid("loadData",e)}},{key:"formatorderqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.orderqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"orderqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getorderqty",{params:r}).then(function(e){$("#oporderqtyTbl").datagrid("loadData",e.data),$("#oporderqtywindow").window("open")}).catch(function(e){})}},{key:"showGridOrderQty",value:function(e){var r=$("#oporderqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0;l<e.rows.length;l++)r+=1*e.rows[l].qty.replace(/,/g,""),i+=1*e.rows[l].amount.replace(/,/g,""),o+=1*e.rows[l].booked_minute.replace(/,/g,"");r&&(t=i/r,a=o/r),$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),smv:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),booked_minute:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatimage",value:function(e,r){return'<img href="javascript:void(0)" width="15"  height="15" src="'+msApp.baseUrl()+"/images/"+r.flie_src+'" onClick="MsOrderProgress.imageWindow(\''+r.flie_src+"')\"/>"}},{key:"imageWindow",value:function(e){var r=document.getElementById("orderProgressImageWindowoutput"),t=msApp.baseUrl()+"/images/"+e;r.src=t,$("#orderProgressImageWindow").window("open")}},{key:"formadyedyarnrq",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.dyedyarnrqWindow('+r.sale_order_id+')">'+r.dyed_yarn_rq+"</a>"}},{key:"dyedyarnrqWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getdyedyarnrq",{params:r}).then(function(e){$("#opdyedyarnrqTbl").datagrid("loadData",e.data),$("#opdyedyarnrqwindow").window("open")}).catch(function(e){})}},{key:"showGridDyedYarnRQ",value:function(e){var r=$("#opdyedyarnrqTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0;t<e.rows.length;t++)r+=1*e.rows[t].dyed_yarn_rq.replace(/,/g,"");$(this).datagrid("reloadFooter",[{dyed_yarn_rq:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatgreyyarntodye",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.greyyarntodyeWindow('+r.sale_order_id+')">'+r.grey_yarn_issue_qty_for_dye+"</a>"}},{key:"greyyarntodyeWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getgreyyarntodye",{params:r}).then(function(e){$("#opgreyyarntodyewindowcontainer").html(e.data),$("#opgreyyarntodyewindow").window("open")}).catch(function(e){})}},{key:"showGridGreyYarntoDye",value:function(e){var r=$("#opgreyyarntodyeTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0;t<e.rows.length;t++)r+=1*e.rows[t].grey_yarn_issue_qty_for_dye.replace(/,/g,"");$(this).datagrid("reloadFooter",[{grey_yarn_issue_qty_for_dye:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatdyedyarnrcv",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.dyedyarnrcvWindow('+r.sale_order_id+')">'+r.dyed_yarn_rcv_qty+"</a>"}},{key:"dyedyarnrcvWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getdyedyarnrcv",{params:r}).then(function(e){$("#opdyedyarnrcvTbl").datagrid("loadData",e.data),$("#opdyedyarnrcvwindow").window("open")}).catch(function(e){})}},{key:"showGridDyedYarnRcv",value:function(e){var r=$("#opdyedyarnrcvTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0;t<e.rows.length;t++)r+=1*e.rows[t].dyed_yarn_rcv_qty.replace(/,/g,"");$(this).datagrid("reloadFooter",[{dyed_yarn_rcv_qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatyarnrq",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.yarnrqWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"yarnrqWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getyarnrq",{params:r}).then(function(e){$("#opyarnrqTbl").datagrid("loadData",e.data),$("#opyarnrqwindow").window("open")}).catch(function(e){})}},{key:"showGridYarnRq",value:function(e){var r=$("#opyarnrqTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r,t=0,a=0,o=0,l=0,n=0,d=0,s=0,c=0,g=0;g<e.rows.length;g++)t+=1*e.rows[g].yarn_req.replace(/,/g,""),o+=1*e.rows[g].req_amount.replace(/,/g,""),l+=1*e.rows[g].rcv_qty.replace(/,/g,""),d+=1*e.rows[g].rcv_amount.replace(/,/g,""),s+=1*e.rows[g].pending_qty.replace(/,/g,""),c+=1*e.rows[g].pending_amount.replace(/,/g,"");t&&(a=o/t),l&&(n=d/l),$(this).datagrid("reloadFooter",[(r={yarn_req:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rate:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),req_amount:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rcv_qty:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},i(r,"rcv_qty",l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),i(r,"rcv_rate",n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),i(r,"rcv_amount",d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),i(r,"pending_qty",s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),i(r,"pending_amount",c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")),r)])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatyarnisuinh",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.yarnisuinhWindow('+r.sale_order_id+')">'+r.inh_yarn_isu_qty+"</a>"}},{key:"yarnisuinhWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getyarnisuinh",{params:r}).then(function(e){$("#opyarnisuinhwindowcontainer").html(e.data),$("#opyarnisuinhwindow").window("open")}).catch(function(e){})}},{key:"formatyarnisuout",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.yarnisuoutWindow('+r.sale_order_id+')">'+r.out_yarn_isu_qty+"</a>"}},{key:"yarnisuoutWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getyarnisuout",{params:r}).then(function(e){$("#opyarnisuoutwindowcontainer").html(e.data),$("#opyarnisuoutwindow").window("open")}).catch(function(e){})}},{key:"formatknit",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.knitWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"knitWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getknit",{params:r}).then(function(e){$("#opknitTbl").datagrid("loadData",e.data),$("#opknitwindow").window("open")}).catch(function(e){})}},{key:"showGridKnit",value:function(e){var r=$("#opknitTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0;o<e.rows.length;o++)r+=1*e.rows[o].req_qty.replace(/,/g,""),t+=1*e.rows[o].qc_pass_qty.replace(/,/g,""),i+=1*e.rows[o].qc_pass_qty_pcs.replace(/,/g,""),a+=1*e.rows[o].pending_knit.replace(/,/g,"");$(this).datagrid("reloadFooter",[{req_qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),qc_pass_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),qc_pass_qty_pcs:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),pending_knit:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatcutqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.cutqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"cutqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getcutqty",{params:r}).then(function(e){$("#opcutqtyTbl").datagrid("loadData",e.data),$("#opcutqtywindow").window("open")}).catch(function(e){})}},{key:"showGridCutQty",value:function(e){var r=$("#opcutqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0;o<e.rows.length;o++)r+=1*e.rows[o].qty.replace(/,/g,""),t+=1*e.rows[o].plan_cut_qty.replace(/,/g,""),i+=1*e.rows[o].cut_qty.replace(/,/g,""),a+=1*e.rows[o].cut_pending.replace(/,/g,"");$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),plan_cut_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_qty:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_pending:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatscrqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.scrqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"scrqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getscrqty",{params:r}).then(function(e){$("#opscrqtyTbl").datagrid("loadData",e.data),$("#opscrqtywindow").window("open")}).catch(function(e){})}},{key:"showGridScrQty",value:function(e){var r=$("#opscrqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0;l<e.rows.length;l++)r+=1*e.rows[l].qty.replace(/,/g,""),t+=1*e.rows[l].cut_qty.replace(/,/g,""),i+=1*e.rows[l].snd_scr_qty.replace(/,/g,""),a+=1*e.rows[l].rcv_scr_qty.replace(/,/g,""),o+=1*e.rows[l].scr_pending.replace(/,/g,"");$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),snd_scr_qty:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),rcv_scr_qty:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),scr_pending:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatsewqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.sewqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"sewqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getsewqty",{params:r}).then(function(e){$("#opsewqtyTbl").datagrid("loadData",e.data),$("#opsewqtywindow").window("open")}).catch(function(e){})}},{key:"showGridSewQty",value:function(e){var r=$("#opsewqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0;l<e.rows.length;l++)r+=1*e.rows[l].qty.replace(/,/g,""),t+=1*e.rows[l].sew_line_qty.replace(/,/g,""),i+=1*e.rows[l].sew_qty.replace(/,/g,""),a+=1*e.rows[l].sewwip.replace(/,/g,""),o+=1*e.rows[l].sew_pending.replace(/,/g,"");$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_qty:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sewwip:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_pending:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatcarqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.carqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"carqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getcarqty",{params:r}).then(function(e){$("#opcarqtyTbl").datagrid("loadData",e.data),$("#opcarqtywindow").window("open")}).catch(function(e){})}},{key:"showGridCarQty",value:function(e){var r=$("#opcarqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0;l<e.rows.length;l++)r+=1*e.rows[l].qty.replace(/,/g,""),t+=1*e.rows[l].sew_qty.replace(/,/g,""),i+=1*e.rows[l].car_qty.replace(/,/g,""),a+=1*e.rows[l].carwip.replace(/,/g,""),o+=1*e.rows[l].car_pending.replace(/,/g,"");$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_qty:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),carwip:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_pending:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatinspqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.inspqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"inspqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getinspqty",{params:r}).then(function(e){$("#opinspqtyTbl").datagrid("loadData",e.data),$("#opinspqtywindow").window("open")}).catch(function(e){})}},{key:"showGridInspQty",value:function(e){var r=$("#opinspqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0,n=0;n<e.rows.length;n++)r+=1*e.rows[n].qty.replace(/,/g,""),t+=1*e.rows[n].car_qty.replace(/,/g,""),i+=1*e.rows[n].insp_pass_qty.replace(/,/g,""),a+=1*e.rows[n].insp_re_check_qty.replace(/,/g,""),o+=1*e.rows[n].insp_faild_qty.replace(/,/g,""),l+=1*e.rows[n].insp_pending.replace(/,/g,"");$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_pass_qty:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_re_check_qty:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_faild_qty:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),insp_pending:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"formatexfqty",value:function(e,r){return'<a href="javascript:void(0)" onClick="MsOrderProgress.exfqtyWindow('+r.sale_order_id+')">'+e+"</a>"}},{key:"exfqtyWindow",value:function(e){var r=this.getParams();r.sale_order_id=e,axios.get(msApp.baseUrl()+"/orderprogress/getexfqty",{params:r}).then(function(e){$("#opexfqtyTbl").datagrid("loadData",e.data),$("#opexfqtywindow").window("open")}).catch(function(e){})}},{key:"showGridExfQty",value:function(e){var r=$("#opexfqtyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0;o<e.rows.length;o++)r+=1*e.rows[o].qty.replace(/,/g,""),t+=1*e.rows[o].car_qty.replace(/,/g,""),i+=1*e.rows[o].exf_qty.replace(/,/g,""),a+=1*e.rows[o].exf_pending.replace(/,/g,"");$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_qty:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),exf_qty:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),exf_pending:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"greyyarnissuefordyebal",value:function(e,r,t){if(1*r.grey_yarn_issue_for_dye_bal<0)return"color:red;"}},{key:"yarnrcvbal",value:function(e,r,t){if(parseFloat(r.yarn_rcv_bal)<0)return"color:red;"}},{key:"knitbal",value:function(e,r,t){if(parseFloat(r.knit_bal)<0)return"color:red;"}},{key:"batchbal",value:function(e,r,t){if(parseFloat(r.batch_bal)<0)return"color:red;"}},{key:"dyeingbal",value:function(e,r,t){if(parseFloat(r.dyeing_bal)<0)return"color:red;"}},{key:"finishbal",value:function(e,r,t){if(parseFloat(r.finish_bal)<0)return"color:red;"}},{key:"cutbal",value:function(e,r,t){if(parseFloat(r.cut_bal)<0)return"color:red;"}},{key:"sndscrqtybal",value:function(e,r,t){if(parseFloat(r.snd_scr_qty_bal)<0)return"color:red;"}},{key:"balscrqty",value:function(e,r,t){if(parseFloat(r.bal_scr_qty)<0)return"color:red;"}},{key:"sewlinebal",value:function(e,r,t){if(parseFloat(r.sew_line_bal)<0)return"color:red;"}},{key:"sewbal",value:function(e,r,t){if(parseFloat(r.sew_bal)<0)return"color:red;"}},{key:"ironbal",value:function(e,r,t){if(parseFloat(r.iron_bal)<0)return"color:red;"}},{key:"polybal",value:function(e,r,t){if(parseFloat(r.poly_bal)<0)return"color:red;"}},{key:"carbal",value:function(e,r,t){if(parseFloat(r.car_bal)<0)return"color:red;"}},{key:"yettoshipqty",value:function(e,r,t){if(parseFloat(r.yet_to_ship_qty)<0)return"color:red;"}},{key:"ciqtybal",value:function(e,r,t){if(parseFloat(r.ci_qty_bal)<0)return"color:red;"}},{key:"getCom",value:function(){$("#orderprogressTab").tabs("select",1);var e=this.getParams();axios.get(this.route+"/getdatacom",{params:e}).then(function(e){$("#orderprogresscomTbl").datagrid("loadData",e.data)}).catch(function(e){})}},{key:"showGridCom",value:function(e){var r=$("#orderprogresscomTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",frozenColumns:[[{title:"Order",width:460,halign:"center",colspan:6,id:"opordersumcolcom",field:"fgrtd1"}],[{field:"company_code",title:"Pro. Company",width:60,halign:"center"},{field:"qty",title:"Order Qty (Pcs)",width:100,halign:"center",align:"right"},{field:"rate",title:"Rate",width:60,halign:"center",align:"right"},{field:"amount",title:"Amount",width:100,halign:"center",align:"right"},{field:"smv",title:"SMV",width:60,halign:"center",align:"right"},{field:"booked_minute",title:"Booked Minute",width:100,halign:"center",align:"right"}]],columns:[[{title:"Yarn Summary",width:900,halign:"center",colspan:9,id:"opyarnsumcolcom"},{title:"Knit Summary",width:600,halign:"center",colspan:6,id:"opknitsumcolcom"},{title:"Dyeing & Finishing Summary",width:1100,halign:"center",colspan:11,id:"opdyeingsumcolcom"},{title:"Cutting Summary",width:700,halign:"center",colspan:7,id:"opcutsumcolcom"},{title:"Sewing Summary",width:600,halign:"center",colspan:6,id:"opsewsumcolcom"},{title:"Iron Summary",width:600,halign:"center",colspan:6,id:"opironsumcolcom"},{title:"Poly Summary",width:600,halign:"center",colspan:6,id:"oppolysumcolcom"},{title:"Finishing Summary",width:400,halign:"center",colspan:4,id:"opfinsumcolcom"},{title:"Shipment Summary",width:600,halign:"center",colspan:6,id:"opshipsumcolcom"},{title:"Invoice Summary",width:600,halign:"center",colspan:6,id:"opinvsumcolcom"}],[{field:"yarn_req",title:"Yarn Required",width:100,halign:"center",align:"right"},{field:"poyarnlc_qty",title:"Yarn Lc Qty",width:100,halign:"center",align:"right"},{field:"poyarnlc_qty_bal",title:"Yarn Lc Bal",width:100,halign:"center",align:"right"},{field:"yarn_rcv",title:"Yarn Rcv.",width:100,halign:"center",align:"right"},{field:"yarn_rcv_bal",title:"Yarn Rcv. Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.yarnrcvbal},{field:"yarn_rcv_per",title:"Yarn Rcv. %",width:100,halign:"center",align:"right"},{field:"yarn_cons",title:"Avg. Cons/DZN",width:100,halign:"center",align:"right"},{field:"yarn_issue_to_knit",title:"Issue To Knit",width:100,halign:"center",align:"right"},{field:"yarn_req_bal",title:"Issue Balance",width:100,halign:"center",align:"right"},{field:"prod_knit_req",title:"Req",width:100,halign:"center",align:"right"},{field:"prod_knit_qty",title:"Done",width:100,halign:"center",align:"right"},{field:"knit_prod_bal",title:"Bal.",width:100,halign:"center",align:"right"},{field:"knit_prod_per",title:"Knit %",width:100,halign:"center",align:"right"},{field:"knit_qty",title:"QC  Done",width:100,halign:"center",align:"right"},{field:"knit_bal",title:"QC Pending",width:100,halign:"center",align:"right",styler:MsOrderProgress.knitbal},{field:"prod_dyeing_req",title:"Req",width:100,halign:"center",align:"right"},{field:"batch_qty",title:"Batch Qty",width:100,halign:"center",align:"right"},{field:"batch_bal",title:"Batch Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.batchbal},{field:"batch_per",title:"Batch %",width:100,halign:"center",align:"right"},{field:"dyeing_qty",title:"Dyeing Qty",width:100,halign:"center",align:"right"},{field:"dyeing_bal",title:"Dyeing Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.dyeingbal},{field:"dyeing_per",title:"Dyeing %",width:100,halign:"center",align:"right"},{field:"fin_fab_req",title:"Fin. Fab Req.",width:100,halign:"center",align:"right"},{field:"finish_qty",title:"Fin. Fab Qty.",width:100,halign:"center",align:"right"},{field:"finish_bal",title:"Fin. Fab. Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.finishbal},{field:"finish_per",title:"Fin. Fab. %",width:100,halign:"center",align:"right"},{field:"plan_cut_qty",title:"Req. Cut Qty",width:100,halign:"center",align:"right"},{field:"cut_qty",title:"Cut Qty",width:100,halign:"center",align:"right"},{field:"cut_bal",title:"Cut Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.cutbal},{field:"cut_per",title:"Cut %",width:100,halign:"center",align:"right"},{field:"sew_line_qty",title:"Line Input",width:100,halign:"center",align:"right"},{field:"sew_line_bal",title:"Line Input Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.sewlinebal},{field:"cut_wip",title:"Cut WIP",width:100,halign:"center",align:"right"},{field:"sew_qty",title:"Sew Qty",width:100,halign:"center",align:"right"},{field:"sew_bal",title:"Sew Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.sewbal},{field:"sew_per",title:"Sew %.",width:100,halign:"center",align:"right"},{field:"alter_qty",title:"Alter Qty",width:100,halign:"center",align:"right"},{field:"reject_qty",title:"Reject Qty",width:100,halign:"center",align:"right"},{field:"sew_wip",title:"Sew WIP",width:100,halign:"center",align:"right"},{field:"iron_qty",title:"Iron Qty",width:100,halign:"center",align:"right"},{field:"iron_bal",title:"Iron Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.ironbal},{field:"iron_per",title:"Iron %.",width:100,halign:"center",align:"right"},{field:"iron_alter_qty",title:"Alter Qty",width:100,halign:"center",align:"right"},{field:"iron_reject_qty",title:"Reject Qty",width:100,halign:"center",align:"right"},{field:"iron_wip",title:"Iron WIP",width:100,halign:"center",align:"right"},{field:"poly_qty",title:"Poly Qty",width:100,halign:"center",align:"right"},{field:"poly_bal",title:"Poly Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.polybal},{field:"poly_per",title:"Poly %.",width:100,halign:"center",align:"right"},{field:"poly_alter_qty",title:"Alter Qty",width:100,halign:"center",align:"right"},{field:"poly_reject_qty",title:"Reject Qty",width:100,halign:"center",align:"right"},{field:"poly_wip",title:"Poly WIP",width:100,halign:"center",align:"right"},{field:"car_qty",title:"Fin. Qty",width:100,halign:"center",align:"right"},{field:"car_bal",title:"Fin. Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.carbal},{field:"car_per",title:"Fin. %",width:100,halign:"center",align:"right"},{field:"car_wip",title:"Fin. WIP",width:100,halign:"center",align:"right"},{field:"ship_qty",title:"Ship Qty",width:100,halign:"center",align:"right"},{field:"yet_to_ship_qty",title:"Ship Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.yettoshipqty},{field:"ship_per",title:"Ship %",width:100,halign:"center",align:"right"},{field:"ship_wip",title:"Ship WIP",width:100,halign:"center",align:"right"},{field:"ship_value",title:"Ship Value",width:100,halign:"center",align:"right"},{field:"yet_to_ship_value",title:"Ship Bal. Value",width:100,halign:"center",align:"right"},{field:"ci_qty",title:"Invoice Qty",width:100,halign:"center",align:"right"},{field:"ci_qty_bal",title:"Invoice Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.ciqtybal},{field:"ci_qty_per",title:"Invoice %",width:100,halign:"center",align:"right"},{field:"ci_qty_wip",title:"Invoice WIP",width:100,halign:"center",align:"right"},{field:"ci_amount",title:"Invoice Amount",width:100,halign:"center",align:"right"},{field:"ci_amount_bal",title:"Invoice Bal. Amount",width:100,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0,n=0,d=0,s=0,c=0,g=0,p=0,u=0,h=0,f=0,y=0,_=0,w=0,m=0,b=0,v=0,F=0,q=0,x=0,k=0,S=0,P=0,M=0,O=0,C=0,R=0,T=0,D=0,I=0,W=0,j=0,A=0,B=0,Q=0,L=0,G=0,N=0,U=0,E=0,Y=0,z=0,H=0,V=0,X=0,K=0,J=0,Z=0,ee=0,re=0,te=0,ie=0,ae=0,oe=0,le=0,ne=0,de=0,se=0,ce=0,ge=0,pe=0,ue=0,he=0,fe=0,ye=0,_e=0,we=0;we<e.rows.length;we++)r+=1*e.rows[we].qty.replace(/,/g,""),t+=1*e.rows[we].amount.replace(/,/g,""),i+=1*e.rows[we].booked_minute.replace(/,/g,""),a+=1*e.rows[we].yarn_req.replace(/,/g,""),o+=1*e.rows[we].poyarnlc_qty.replace(/,/g,""),l+=1*e.rows[we].poyarnlc_qty_bal.replace(/,/g,""),n+=1*e.rows[we].yarn_rcv.replace(/,/g,""),d+=1*e.rows[we].yarn_rcv_bal.replace(/,/g,""),g+=1*e.rows[we].yarn_issue_to_knit.replace(/,/g,""),p+=1*e.rows[we].yarn_req_bal.replace(/,/g,""),u+=1*e.rows[we].prod_knit_req.replace(/,/g,""),h+=1*e.rows[we].prod_knit_qty.replace(/,/g,""),f+=1*e.rows[we].knit_prod_bal.replace(/,/g,""),_+=1*e.rows[we].knit_qty.replace(/,/g,""),w+=1*e.rows[we].knit_bal.replace(/,/g,""),m+=1*e.rows[we].prod_dyeing_req.replace(/,/g,""),b+=1*e.rows[we].batch_qty.replace(/,/g,""),v+=1*e.rows[we].batch_bal.replace(/,/g,""),q+=1*e.rows[we].dyeing_qty.replace(/,/g,""),x+=1*e.rows[we].dyeing_bal.replace(/,/g,""),S+=1*e.rows[we].fin_fab_req.replace(/,/g,""),P+=1*e.rows[we].finish_qty.replace(/,/g,""),M+=1*e.rows[we].finish_bal.replace(/,/g,""),C+=1*e.rows[we].plan_cut_qty.replace(/,/g,""),R+=1*e.rows[we].cut_qty.replace(/,/g,""),T+=1*e.rows[we].cut_bal.replace(/,/g,""),j+=1*e.rows[we].cut_wip.replace(/,/g,""),I+=1*e.rows[we].sew_line_qty.replace(/,/g,""),W+=1*e.rows[we].sew_line_bal.replace(/,/g,""),j+=1*e.rows[we].cut_wip.replace(/,/g,""),A+=1*e.rows[we].sew_qty.replace(/,/g,""),B+=1*e.rows[we].sew_bal.replace(/,/g,""),L+=1*e.rows[we].alter_qty.replace(/,/g,""),G+=1*e.rows[we].reject_qty.replace(/,/g,""),N+=1*e.rows[we].sew_wip.replace(/,/g,""),U+=1*e.rows[we].iron_qty.replace(/,/g,""),E+=1*e.rows[we].iron_bal.replace(/,/g,""),z+=1*e.rows[we].iron_alter_qty.replace(/,/g,""),H+=1*e.rows[we].iron_reject_qty.replace(/,/g,""),V+=1*e.rows[we].iron_wip.replace(/,/g,""),X+=1*e.rows[we].poly_qty.replace(/,/g,""),K+=1*e.rows[we].poly_bal.replace(/,/g,""),Z+=1*e.rows[we].poly_alter_qty.replace(/,/g,""),ee+=1*e.rows[we].poly_reject_qty.replace(/,/g,""),re+=1*e.rows[we].poly_wip.replace(/,/g,""),te+=1*e.rows[we].car_qty.replace(/,/g,""),ie+=1*e.rows[we].car_bal.replace(/,/g,""),oe+=1*e.rows[we].car_wip.replace(/,/g,""),le+=1*e.rows[we].ship_qty.replace(/,/g,""),ne+=1*e.rows[we].yet_to_ship_qty.replace(/,/g,""),se+=1*e.rows[we].ship_wip.replace(/,/g,""),ce+=1*e.rows[we].ship_value.replace(/,/g,""),ge+=1*e.rows[we].yet_to_ship_value.replace(/,/g,""),pe+=1*e.rows[we].ci_qty.replace(/,/g,""),ue+=1*e.rows[we].ci_qty_bal.replace(/,/g,""),fe+=1*e.rows[we].ci_qty_wip.replace(/,/g,""),ye+=1*e.rows[we].ci_amount.replace(/,/g,""),_e+=1*e.rows[we].ci_amount_bal.replace(/,/g,"");a&&(s=n/a*100),r&&(c=a/r*12),a&&(y=h/a*100),a&&(F=b/a*100),a&&(k=q/a*100),S&&(O=P/S*100),C&&(D=R/C*100),r&&(Q=A/r*100),r&&(Y=U/r*100),r&&(J=X/r*100),A&&(ae=te/A*100),r&&(de=le/r*100),le&&(he=pe/le*100),$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),booked_minute:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poyarnlc_qty:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poyarnlc_qty_bal:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv_bal:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv_per:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_cons:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_issue_to_knit:g.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req_bal:p.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),prod_knit_req:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),prod_knit_qty:h.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_prod_bal:f.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_prod_per:y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_qty:_.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_bal:w.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),prod_dyeing_req:m.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_qty:b.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_bal:v.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_per:F.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_qty:q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_bal:x.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_per:k.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req:S.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_qty:P.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_bal:M.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_per:O.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),plan_cut_qty:C.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_qty:R.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_bal:T.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_per:D.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_qty:I.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_bal:W.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_wip:j.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_qty:A.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_bal:B.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_per:Q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),alter_qty:L.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),reject_qty:G.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_wip:N.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_qty:U.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_bal:E.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_per:Y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_alter_qty:z.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_reject_qty:H.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_wip:V.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_qty:X.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_bal:K.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_per:J.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_alter_qty:Z.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_reject_qty:ee.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_wip:re.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_qty:te.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_bal:ie.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_per:ae.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_wip:oe.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_qty:le.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_qty:ne.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_per:de.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_wip:se.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_value:ce.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_value:ge.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty:pe.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_bal:ue.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_per:he.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_wip:fe.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_amount:ye.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_amount_bal:_e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"getBuy",value:function(){$("#orderprogressTab").tabs("select",2);var e=this.getParams();axios.get(this.route+"/getdatabuy",{params:e}).then(function(e){$("#orderprogressbuyTbl").datagrid("loadData",e.data)}).catch(function(e){})}},{key:"showGridBuy",value:function(e){var r=$("#orderprogressbuyTbl");r.datagrid({border:!1,singleSelect:!0,showFooter:!0,fit:!0,rownumbers:!0,emptyMsg:"No Record Found",frozenColumns:[[{title:"Order",width:460,halign:"center",colspan:6,id:"opordersumcolcom",field:"fgrtd1"}],[{field:"buyer_name",title:"Buyer",width:60,halign:"center"},{field:"qty",title:"Order Qty (Pcs)",width:100,halign:"center",align:"right"},{field:"rate",title:"Rate",width:60,halign:"center",align:"right"},{field:"amount",title:"Amount",width:100,halign:"center",align:"right"},{field:"smv",title:"SMV",width:60,halign:"center",align:"right"},{field:"booked_minute",title:"Booked Minute",width:100,halign:"center",align:"right"}]],columns:[[{title:"Yarn Summary",width:900,halign:"center",colspan:9,id:"opyarnsumcolbuy"},{title:"Knit Summary",width:600,halign:"center",colspan:6,id:"opknitsumcolbuy"},{title:"Dyeing & Finishing Summary",width:1100,halign:"center",colspan:11,id:"opdyeingsumcolbuy"},{title:"Cutting Summary",width:700,halign:"center",colspan:7,id:"opcutsumcolbuy"},{title:"Sewing Summary",width:600,halign:"center",colspan:6,id:"opsewsumcolbuy"},{title:"Iron Summary",width:600,halign:"center",colspan:6,id:"opironsumcolbuy"},{title:"Poly Summary",width:600,halign:"center",colspan:6,id:"oppolysumcolbuy"},{title:"Finishing Summary",width:400,halign:"center",colspan:4,id:"opfinsumcolbuy"},{title:"Shipment Summary",width:600,halign:"center",colspan:6,id:"opshipsumcolbuy"},{title:"Invoice Summary",width:600,halign:"center",colspan:6,id:"opinvsumcolbuy"}],[{field:"yarn_req",title:"Yarn Required",width:100,halign:"center",align:"right"},{field:"poyarnlc_qty",title:"Yarn Lc Qty",width:100,halign:"center",align:"right"},{field:"poyarnlc_qty_bal",title:"Yarn Lc Bal",width:100,halign:"center",align:"right"},{field:"yarn_rcv",title:"Yarn Rcv.",width:100,halign:"center",align:"right"},{field:"yarn_rcv_bal",title:"Yarn Rcv. Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.yarnrcvbal},{field:"yarn_rcv_per",title:"Yarn Rcv. %",width:100,halign:"center",align:"right"},{field:"yarn_cons",title:"Avg. Cons/DZN",width:100,halign:"center",align:"right"},{field:"yarn_issue_to_knit",title:"Issue To Knit",width:100,halign:"center",align:"right"},{field:"yarn_req_bal",title:"Issue Balance",width:100,halign:"center",align:"right"},{field:"prod_knit_req",title:"Req",width:100,halign:"center",align:"right"},{field:"prod_knit_qty",title:"Done",width:100,halign:"center",align:"right"},{field:"knit_prod_bal",title:"Bal.",width:100,halign:"center",align:"right"},{field:"knit_prod_per",title:"Knit %",width:100,halign:"center",align:"right"},{field:"knit_qty",title:"QC  Done",width:100,halign:"center",align:"right"},{field:"knit_bal",title:"QC Pending",width:100,halign:"center",align:"right",styler:MsOrderProgress.knitbal},{field:"prod_dyeing_req",title:"Req",width:100,halign:"center",align:"right"},{field:"batch_qty",title:"Batch Qty",width:100,halign:"center",align:"right"},{field:"batch_bal",title:"Batch Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.batchbal},{field:"batch_per",title:"Batch %",width:100,halign:"center",align:"right"},{field:"dyeing_qty",title:"Dyeing Qty",width:100,halign:"center",align:"right"},{field:"dyeing_bal",title:"Dyeing Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.dyeingbal},{field:"dyeing_per",title:"Dyeing %",width:100,halign:"center",align:"right"},{field:"fin_fab_req",title:"Fin. Fab Req.",width:100,halign:"center",align:"right"},{field:"finish_qty",title:"Fin. Fab Qty.",width:100,halign:"center",align:"right"},{field:"finish_bal",title:"Fin. Fab. Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.finishbal},{field:"finish_per",title:"Fin. Fab. %",width:100,halign:"center",align:"right"},{field:"plan_cut_qty",title:"Req. Cut Qty",width:100,halign:"center",align:"right"},{field:"cut_qty",title:"Cut Qty",width:100,halign:"center",align:"right"},{field:"cut_bal",title:"Cut Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.cutbal},{field:"cut_per",title:"Cut %",width:100,halign:"center",align:"right"},{field:"sew_line_qty",title:"Line Input",width:100,halign:"center",align:"right"},{field:"sew_line_bal",title:"Line Input Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.sewlinebal},{field:"cut_wip",title:"Cut WIP",width:100,halign:"center",align:"right"},{field:"sew_qty",title:"Sew Qty",width:100,halign:"center",align:"right"},{field:"sew_bal",title:"Sew Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.sewbal},{field:"sew_per",title:"Sew %.",width:100,halign:"center",align:"right"},{field:"alter_qty",title:"Alter Qty",width:100,halign:"center",align:"right"},{field:"reject_qty",title:"Reject Qty",width:100,halign:"center",align:"right"},{field:"sew_wip",title:"Sew WIP",width:100,halign:"center",align:"right"},{field:"iron_qty",title:"Iron Qty",width:100,halign:"center",align:"right"},{field:"iron_bal",title:"Iron Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.ironbal},{field:"iron_per",title:"Iron %.",width:100,halign:"center",align:"right"},{field:"iron_alter_qty",title:"Alter Qty",width:100,halign:"center",align:"right"},{field:"iron_reject_qty",title:"Reject Qty",width:100,halign:"center",align:"right"},{field:"iron_wip",title:"Iron WIP",width:100,halign:"center",align:"right"},{field:"poly_qty",title:"Poly Qty",width:100,halign:"center",align:"right"},{field:"poly_bal",title:"Poly Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.polybal},{field:"poly_per",title:"Poly %.",width:100,halign:"center",align:"right"},{field:"poly_alter_qty",title:"Alter Qty",width:100,halign:"center",align:"right"},{field:"poly_reject_qty",title:"Reject Qty",width:100,halign:"center",align:"right"},{field:"poly_wip",title:"Poly WIP",width:100,halign:"center",align:"right"},{field:"car_qty",title:"Fin. Qty",width:100,halign:"center",align:"right"},{field:"car_bal",title:"Fin. Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.carbal},{field:"car_per",title:"Fin. %",width:100,halign:"center",align:"right"},{field:"car_wip",title:"Fin. WIP",width:100,halign:"center",align:"right"},{field:"ship_qty",title:"Ship Qty",width:100,halign:"center",align:"right"},{field:"yet_to_ship_qty",title:"Ship Bal.",width:100,halign:"center",align:"right",styler:MsOrderProgress.yettoshipqty},{field:"ship_per",title:"Ship %",width:100,halign:"center",align:"right"},{field:"ship_wip",title:"Ship WIP",width:100,halign:"center",align:"right"},{field:"ship_value",title:"Ship Value",width:100,halign:"center",align:"right"},{field:"yet_to_ship_value",title:"Ship Bal. Value",width:100,halign:"center",align:"right"},{field:"ci_qty",title:"Invoice Qty",width:100,halign:"center",align:"right"},{field:"ci_qty_bal",title:"Invoice Bal",width:100,halign:"center",align:"right",styler:MsOrderProgress.ciqtybal},{field:"ci_qty_per",title:"Invoice %",width:100,halign:"center",align:"right"},{field:"ci_qty_wip",title:"Invoice WIP",width:100,halign:"center",align:"right"},{field:"ci_amount",title:"Invoice Amount",width:100,halign:"center",align:"right"},{field:"ci_amount_bal",title:"Invoice Bal. Amount",width:100,halign:"center",align:"right"}]],onLoadSuccess:function(e){for(var r=0,t=0,i=0,a=0,o=0,l=0,n=0,d=0,s=0,c=0,g=0,p=0,u=0,h=0,f=0,y=0,_=0,w=0,m=0,b=0,v=0,F=0,q=0,x=0,k=0,S=0,P=0,M=0,O=0,C=0,R=0,T=0,D=0,I=0,W=0,j=0,A=0,B=0,Q=0,L=0,G=0,N=0,U=0,E=0,Y=0,z=0,H=0,V=0,X=0,K=0,J=0,Z=0,ee=0,re=0,te=0,ie=0,ae=0,oe=0,le=0,ne=0,de=0,se=0,ce=0,ge=0,pe=0,ue=0,he=0,fe=0,ye=0,_e=0,we=0;we<e.rows.length;we++)r+=1*e.rows[we].qty.replace(/,/g,""),t+=1*e.rows[we].amount.replace(/,/g,""),i+=1*e.rows[we].booked_minute.replace(/,/g,""),a+=1*e.rows[we].yarn_req.replace(/,/g,""),o+=1*e.rows[we].poyarnlc_qty.replace(/,/g,""),l+=1*e.rows[we].poyarnlc_qty_bal.replace(/,/g,""),n+=1*e.rows[we].yarn_rcv.replace(/,/g,""),d+=1*e.rows[we].yarn_rcv_bal.replace(/,/g,""),g+=1*e.rows[we].yarn_issue_to_knit.replace(/,/g,""),p+=1*e.rows[we].yarn_req_bal.replace(/,/g,""),u+=1*e.rows[we].prod_knit_req.replace(/,/g,""),h+=1*e.rows[we].prod_knit_qty.replace(/,/g,""),f+=1*e.rows[we].knit_prod_bal.replace(/,/g,""),_+=1*e.rows[we].knit_qty.replace(/,/g,""),w+=1*e.rows[we].knit_bal.replace(/,/g,""),m+=1*e.rows[we].prod_dyeing_req.replace(/,/g,""),b+=1*e.rows[we].batch_qty.replace(/,/g,""),v+=1*e.rows[we].batch_bal.replace(/,/g,""),q+=1*e.rows[we].dyeing_qty.replace(/,/g,""),x+=1*e.rows[we].dyeing_bal.replace(/,/g,""),S+=1*e.rows[we].fin_fab_req.replace(/,/g,""),P+=1*e.rows[we].finish_qty.replace(/,/g,""),M+=1*e.rows[we].finish_bal.replace(/,/g,""),C+=1*e.rows[we].plan_cut_qty.replace(/,/g,""),R+=1*e.rows[we].cut_qty.replace(/,/g,""),T+=1*e.rows[we].cut_bal.replace(/,/g,""),j+=1*e.rows[we].cut_wip.replace(/,/g,""),I+=1*e.rows[we].sew_line_qty.replace(/,/g,""),W+=1*e.rows[we].sew_line_bal.replace(/,/g,""),j+=1*e.rows[we].cut_wip.replace(/,/g,""),A+=1*e.rows[we].sew_qty.replace(/,/g,""),B+=1*e.rows[we].sew_bal.replace(/,/g,""),L+=1*e.rows[we].alter_qty.replace(/,/g,""),G+=1*e.rows[we].reject_qty.replace(/,/g,""),N+=1*e.rows[we].sew_wip.replace(/,/g,""),U+=1*e.rows[we].iron_qty.replace(/,/g,""),E+=1*e.rows[we].iron_bal.replace(/,/g,""),z+=1*e.rows[we].iron_alter_qty.replace(/,/g,""),H+=1*e.rows[we].iron_reject_qty.replace(/,/g,""),V+=1*e.rows[we].iron_wip.replace(/,/g,""),X+=1*e.rows[we].poly_qty.replace(/,/g,""),K+=1*e.rows[we].poly_bal.replace(/,/g,""),Z+=1*e.rows[we].poly_alter_qty.replace(/,/g,""),ee+=1*e.rows[we].poly_reject_qty.replace(/,/g,""),re+=1*e.rows[we].poly_wip.replace(/,/g,""),te+=1*e.rows[we].car_qty.replace(/,/g,""),ie+=1*e.rows[we].car_bal.replace(/,/g,""),oe+=1*e.rows[we].car_wip.replace(/,/g,""),le+=1*e.rows[we].ship_qty.replace(/,/g,""),ne+=1*e.rows[we].yet_to_ship_qty.replace(/,/g,""),se+=1*e.rows[we].ship_wip.replace(/,/g,""),ce+=1*e.rows[we].ship_value.replace(/,/g,""),ge+=1*e.rows[we].yet_to_ship_value.replace(/,/g,""),pe+=1*e.rows[we].ci_qty.replace(/,/g,""),ue+=1*e.rows[we].ci_qty_bal.replace(/,/g,""),fe+=1*e.rows[we].ci_qty_wip.replace(/,/g,""),ye+=1*e.rows[we].ci_amount.replace(/,/g,""),_e+=1*e.rows[we].ci_amount_bal.replace(/,/g,"");a&&(s=n/a*100),r&&(c=a/r*12),a&&(y=h/a*100),a&&(F=b/a*100),a&&(k=q/a*100),S&&(O=P/S*100),C&&(D=R/C*100),r&&(Q=A/r*100),r&&(Y=U/r*100),r&&(J=X/r*100),A&&(ae=te/A*100),r&&(de=le/r*100),le&&(he=pe/le*100),$(this).datagrid("reloadFooter",[{qty:r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),amount:t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),booked_minute:i.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req:a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poyarnlc_qty:o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poyarnlc_qty_bal:l.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv:n.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv_bal:d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_rcv_per:s.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_cons:c.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_issue_to_knit:g.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yarn_req_bal:p.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),prod_knit_req:u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),prod_knit_qty:h.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_prod_bal:f.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_prod_per:y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_qty:_.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),knit_bal:w.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),prod_dyeing_req:m.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_qty:b.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_bal:v.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),batch_per:F.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_qty:q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_bal:x.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),dyeing_per:k.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),fin_fab_req:S.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_qty:P.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_bal:M.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),finish_per:O.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),plan_cut_qty:C.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_qty:R.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_bal:T.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_per:D.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_qty:I.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_line_bal:W.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),cut_wip:j.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_qty:A.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_bal:B.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_per:Q.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),alter_qty:L.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),reject_qty:G.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),sew_wip:N.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_qty:U.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_bal:E.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_per:Y.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_alter_qty:z.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_reject_qty:H.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),iron_wip:V.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_qty:X.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_bal:K.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_per:J.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_alter_qty:Z.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_reject_qty:ee.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),poly_wip:re.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_qty:te.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_bal:ie.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_per:ae.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),car_wip:oe.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_qty:le.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_qty:ne.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_per:de.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_wip:se.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ship_value:ce.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),yet_to_ship_value:ge.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty:pe.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_bal:ue.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_per:he.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_qty_wip:fe.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_amount:ye.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),ci_amount_bal:_e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}])}}),r.datagrid("enableFilter").datagrid("loadData",e)}},{key:"openOrdStyleWindow",value:function(){$("#ordstyleWindow").window("open")}},{key:"getOrdStyleParams",value:function(){var e={};return e.buyer_id=$("#ordstylesearchFrm  [name=buyer_id]").val(),e.style_ref=$("#ordstylesearchFrm  [name=style_ref]").val(),e.style_description=$("#ordstylesearchFrm  [name=style_description]").val(),e}},{key:"searchOrdStyleGrid",value:function(){var e=this.getOrdStyleParams();axios.get(this.route+"/ordpstyle",{params:e}).then(function(e){$("#ordstylesearchTbl").datagrid("loadData",e.data)}).catch(function(e){})}},{key:"showOrdStyleGrid",value:function(e){$("#ordstylesearchTbl").datagrid({border:!1,singleSelect:!0,fit:!0,onClickRow:function(e,r){$("#orderprogressFrm [name=style_ref]").val(r.style_ref),$("#orderprogressFrm [name=style_id]").val(r.id),$("#ordstyleWindow").window("close")}}).datagrid("enableFilter").datagrid("loadData",e)}},{key:"openTeammemberDlmWindow",value:function(){$("#teammemberDlmWindow").window("open")}},{key:"getTdlmParams",value:function(){var e={};return e.team_id=$("#teammemberdlmFrm  [name=team_id]").val(),e}},{key:"searchTeammemberDlmGrid",value:function(){var e=this.getTdlmParams();axios.get(this.route+"/ordteammemberdlm",{params:e}).then(function(e){$("#teammemberdlmTbl").datagrid("loadData",e.data)}).catch(function(e){})}},{key:"showTeammemberDlmGrid",value:function(e){$("#teammemberdlmTbl").datagrid({border:!1,singleSelect:!0,fit:!0,onClickRow:function(e,r){$("#orderprogressFrm [name=factory_merchant_id]").val(r.factory_merchant_id),$("#orderprogressFrm [name=team_member_name]").val(r.dlm_name),$("#teammemberDlmWindow").window("close")}}).datagrid("enableFilter").datagrid("loadData",e)}},{key:"getsummery",value:function(){var e=this.getParams();axios.get(this.route+"/orderprogresssummery",{params:e}).then(function(e){$("#orderprogressSummeryWindow").window("open"),$("#orderprogressSummeryContainer").html(e.data)}).catch(function(e){})}}]),e}();window.MsOrderProgress=new n(new l),MsOrderProgress.showGrid([]),MsOrderProgress.showGridDlmct([]),MsOrderProgress.showGridBAgent([]),MsOrderProgress.showGridOpFileSrc([]),MsOrderProgress.showGridLcSc([]),MsOrderProgress.showGridOrderQty([]),MsOrderProgress.showGridDyedYarnRQ([]),MsOrderProgress.showGridGreyYarntoDye([]),MsOrderProgress.showGridDyedYarnRcv([]),MsOrderProgress.showGridYarnRq([]),MsOrderProgress.showGridKnit([]),MsOrderProgress.showGridCutQty([]),MsOrderProgress.showGridScrQty([]),MsOrderProgress.showGridSewQty([]),MsOrderProgress.showGridCarQty([]),MsOrderProgress.showGridInspQty([]),MsOrderProgress.showGridExfQty([]),MsOrderProgress.showGridCom([]),MsOrderProgress.showGridBuy([]),MsOrderProgress.showOrdStyleGrid([]),MsOrderProgress.showTeammemberDlmGrid([]),$("#orderprogressTab").tabs({onSelect:function(e,r){}})},153:function(e,r,t){function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function o(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var l=t(0),n=function(e){function r(){return i(this,r),a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this))}return o(r,e),r}(l);e.exports=n},2:function(e,r){!function(e){function r(r){return e(r).data("treegrid")?"treegrid":"datagrid"}function t(r,t){function i(r){var t=0;return e(r).children(":visible").each(function(){t+=e(this)._outerWidth()}),t}var a=!1,o=e(r),l=o.datagrid("getPanel").find("div.datagrid-header"),n=l.find(".datagrid-header-row:not(.datagrid-filter-row)");(t?l.find('.datagrid-filter[name="'+t+'"]'):l.find(".datagrid-filter")).each(function(){var r=e(this).attr("name"),t=o.datagrid("getColumnOption",r),l=e(this).closest("div.datagrid-filter-c"),d=l.find("a.datagrid-filter-btn"),s=n.find('td[field="'+r+'"] .datagrid-cell'),c=s._outerWidth();c!=i(l)&&this.filter.resize(this,c-d._outerWidth()),l.width()>t.boxWidth+t.deltaWidth-1&&(t.boxWidth=l.width()-t.deltaWidth+1,t.width=t.boxWidth+t.deltaWidth,a=!0)}),a&&e(r).datagrid("fixColumnSize")}function i(r,t){return e(r).datagrid("getPanel").find("div.datagrid-header").find('tr.datagrid-filter-row td[field="'+t+'"] .datagrid-filter')}function a(t,i){for(var a=r(t),o=e(t)[a]("options").filterRules,l=0;l<o.length;l++)if(o[l].field==i)return l;return-1}function o(t,i){var o=r(t),l=e(t)[o]("options").filterRules,n=a(t,i);return n>=0?l[n]:null}function l(t,o){var l=r(t),d=e(t)[l]("options"),s=d.filterRules;if("nofilter"==o.op)n(t,o.field);else{var c=a(t,o.field);c>=0?e.extend(s[c],o):s.push(o)}var g=i(t,o.field);if(g.length){if("nofilter"!=o.op){var p=g.val();g.data("textbox")&&(p=g.textbox("getText")),p!=o.value&&g[0].filter.setValue(g,o.value)}var u=g[0].menu;if(u){u.find("."+d.filterMenuIconCls).removeClass(d.filterMenuIconCls);var h=u.menu("findItem",d.operators[o.op].text);u.menu("setIcon",{target:h.target,iconCls:d.filterMenuIconCls})}}}function n(t,o){function l(e){for(var r=0;r<e.length;r++){var a=i(t,e[r]);if(a.length){a[0].filter.setValue(a,"");var o=a[0].menu;o&&o.find("."+s.filterMenuIconCls).removeClass(s.filterMenuIconCls)}}}var n=r(t),d=e(t),s=d[n]("options");if(o){var c=a(t,o);c>=0&&s.filterRules.splice(c,1),l([o])}else{s.filterRules=[];l(d.datagrid("getColumnFields",!0).concat(d.datagrid("getColumnFields")))}}function d(t){var i=r(t),a=e.data(t,i),o=a.options;o.remoteFilter?e(t)[i]("load"):("scrollview"==o.view.type&&a.data.firstRows&&a.data.firstRows.length&&(a.data.rows=a.data.firstRows),e(t)[i]("getPager").pagination("refresh",{pageNumber:1}),e(t)[i]("options").pageNumber=1,e(t)[i]("loadData",a.filterSource||a.data))}function s(r,t,i){var a=e(r).treegrid("options");if(!t||!t.length)return[];var o=[];return e.map(t,function(e){e._parentId=i,o.push(e),o=o.concat(s(r,e.children,e[a.idField]))}),e.map(o,function(e){e.children=void 0}),o}function c(t,i){function a(e){for(var r=[],t=d.pageNumber;t>0;){var i=(t-1)*parseInt(d.pageSize),a=i+parseInt(d.pageSize);if(r=e.slice(i,a),r.length)break;t--}return{pageNumber:t>0?t:1,rows:r}}var o=this,l=r(o),n=e.data(o,l),d=n.options;if("datagrid"==l&&e.isArray(t))t={total:t.length,rows:t};else if("treegrid"==l&&e.isArray(t)){var c=s(o,t,i);t={total:c.length,rows:c}}if(!d.remoteFilter){if(n.filterSource){if(d.isSorting)d.isSorting=void 0;else if("datagrid"==l)n.filterSource=t;else if(n.filterSource.total+=t.length,n.filterSource.rows=n.filterSource.rows.concat(t.rows),i)return d.filterMatcher.call(o,t)}else n.filterSource=t;if(!d.remoteSort&&d.sortName){var g=d.sortName.split(","),p=d.sortOrder.split(","),u=e(o);n.filterSource.rows.sort(function(e,r){for(var t=0,i=0;i<g.length;i++){var a=g[i],o=p[i];if(0!=(t=(u.datagrid("getColumnOption",a).sorter||function(e,r){return e==r?0:e>r?1:-1})(e[a],r[a])*("asc"==o?1:-1)))return t}return t})}if(t=d.filterMatcher.call(o,{total:n.filterSource.total,rows:n.filterSource.rows,footer:n.filterSource.footer||[]}),d.pagination){var u=e(o),h=u[l]("getPager");if(h.pagination({onSelectPage:function(e,r){d.pageNumber=e,d.pageSize=r,h.pagination("refresh",{pageNumber:e,pageSize:r}),u[l]("loadData",n.filterSource)},onBeforeRefresh:function(){return u[l]("reload"),!1}}),"datagrid"==l){var f=a(t.rows);d.pageNumber=f.pageNumber,t.rows=f.rows}else{var y=[],_=[];e.map(t.rows,function(e){e._parentId?_.push(e):y.push(e)}),t.total=y.length;var f=a(y);d.pageNumber=f.pageNumber,t.rows=f.rows.concat(_)}}e.map(t.rows,function(e){e.children=void 0})}return t}function g(i,a){function o(r){var a=p.dc,o=e(i).datagrid("getColumnFields",r);r&&u.rownumbers&&o.unshift("_");var l=(r?a.header1:a.header2).find("table.datagrid-htable");l.find(".datagrid-filter").each(function(){this.filter.destroy&&this.filter.destroy(this),this.menu&&e(this.menu).menu("destroy")}),l.find("tr.datagrid-filter-row").remove();var d=e('<tr class="datagrid-header-row datagrid-filter-row"></tr>');"bottom"==u.filterPosition?d.appendTo(l.find("tbody")):d.prependTo(l.find("tbody")),u.showFilterBar||d.hide();for(var c=0;c<o.length;c++){var h=o[c],f=e(i).datagrid("getColumnOption",h),y=e("<td></td>").attr("field",h).appendTo(d);if(f&&f.hidden&&y.hide(),"_"!=h&&(!f||!f.checkbox&&!f.expander)){var _=s(h);_?e(i)[g]("destroyFilter",h):_=e.extend({},{field:h,type:u.defaultFilterType,options:u.defaultFilterOptions});var w=u.filterCache[h];if(w)w.appendTo(y);else{w=e('<div class="datagrid-filter-c"></div>').appendTo(y);var m=u.filters[_.type],b=m.init(w,e.extend({height:24},_.options||{}));b.addClass("datagrid-filter").attr("name",h),b[0].filter=m,b[0].menu=n(w,_.op),_.options?_.options.onInit&&_.options.onInit.call(b[0],i):u.defaultFilterOptions.onInit.call(b[0],i),u.filterCache[h]=w,t(i,h)}}}}function n(r,t){if(!t)return null;var a=e('<a class="datagrid-filter-btn">&nbsp;</a>').addClass(u.filterBtnIconCls);"right"==u.filterBtnPosition?a.appendTo(r):a.prependTo(r);var o=e("<div></div>").appendTo("body");return e.map(["nofilter"].concat(t),function(r){var t=u.operators[r];t&&e("<div></div>").attr("name",r).html(t.text).appendTo(o)}),o.menu({alignTo:a,onClick:function(r){var t=e(this).menu("options").alignTo,a=t.closest("td[field]"),o=a.attr("field"),n=a.find(".datagrid-filter"),s=n[0].filter.getValue(n);0!=u.onClickMenu.call(i,r,t,o)&&(l(i,{field:o,op:r.name,value:s}),d(i))}}),a[0].menu=o,a.bind("click",{menu:o},function(r){return e(this.menu).menu("show"),!1}),o}function s(e){for(var r=0;r<a.length;r++){var t=a[r];if(t.field==e)return t}return null}a=a||[];var g=r(i),p=e.data(i,g),u=p.options;u.filterRules.length||(u.filterRules=[]),u.filterCache=u.filterCache||{};var h=e.data(i,"datagrid").options,f=h.onResize;h.onResize=function(e,r){t(i),f.call(this,e,r)};var y=h.onBeforeSortColumn;h.onBeforeSortColumn=function(e,r){var t=y.call(this,e,r);return 0!=t&&(u.isSorting=!0),t};var _=u.onResizeColumn;u.onResizeColumn=function(r,a){var o=e(this).datagrid("getPanel").find(".datagrid-header .datagrid-filter-c"),l=o.find(".datagrid-filter:focus");o.hide(),e(i).datagrid("fitColumns"),u.fitColumns?t(i):t(i,r),o.show(),l.blur().focus(),_.call(i,r,a)};var w=u.onBeforeLoad;u.onBeforeLoad=function(e,r){e&&(e.filterRules=u.filterStringify(u.filterRules)),r&&(r.filterRules=u.filterStringify(u.filterRules));var t=w.call(this,e,r);if(0!=t&&u.url)if("datagrid"==g)p.filterSource=null;else if("treegrid"==g&&p.filterSource)if(e){for(var i=e[u.idField],a=p.filterSource.rows||[],o=0;o<a.length;o++)if(i==a[o]._parentId)return!1}else p.filterSource=null;return t},u.loadFilter=function(e,r){var t=u.oldLoadFilter.call(this,e,r);return c.call(this,t,r)},p.dc.view2.children(".datagrid-header").unbind(".filter").bind("focusin.filter",function(r){var t=e(this);setTimeout(function(){p.dc.body2._scrollLeft(t._scrollLeft())},0)}),function(){e("#datagrid-filter-style").length||e("head").append('<style id="datagrid-filter-style">a.datagrid-filter-btn{display:inline-block;width:22px;height:22px;margin:0;vertical-align:top;cursor:pointer;opacity:0.6;filter:alpha(opacity=60);}a:hover.datagrid-filter-btn{opacity:1;filter:alpha(opacity=100);}.datagrid-filter-row .textbox,.datagrid-filter-row .textbox .textbox-text{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;}.datagrid-filter-row input{margin:0;-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;}.datagrid-filter-c{overflow:hidden}.datagrid-filter-cache{position:absolute;width:10px;height:10px;left:-99999px;}</style>')}(),o(!0),o(),u.fitColumns&&setTimeout(function(){t(i)},0),e.map(u.filterRules,function(e){l(i,e)})}var p=e.fn.datagrid.methods.autoSizeColumn,u=e.fn.datagrid.methods.loadData,h=e.fn.datagrid.methods.appendRow,f=e.fn.datagrid.methods.deleteRow;e.extend(e.fn.datagrid.methods,{autoSizeColumn:function(r,i){return r.each(function(){var r=e(this).datagrid("getPanel").find(".datagrid-header .datagrid-filter-c");r.css({width:"1px",height:0}),p.call(e.fn.datagrid.methods,e(this),i),r.css({width:"",height:""}),t(this,i)})},loadData:function(r,t){return r.each(function(){e.data(this,"datagrid").filterSource=null}),u.call(e.fn.datagrid.methods,r,t)},appendRow:function(r,t){var i=h.call(e.fn.datagrid.methods,r,t);return r.each(function(){var r=e(this).data("datagrid");r.filterSource&&(r.filterSource.total++,r.filterSource.rows!=r.data.rows&&r.filterSource.rows.push(t))}),i},deleteRow:function(r,t){return r.each(function(){var r=e(this).data("datagrid"),i=r.options;if(r.filterSource&&i.idField)if(r.filterSource.rows==r.data.rows)r.filterSource.total--;else for(var a=0;a<r.filterSource.rows.length;a++){var o=r.filterSource.rows[a];if(o[i.idField]==r.data.rows[t][i.idField]){r.filterSource.rows.splice(a,1),r.filterSource.total--;break}}}),f.call(e.fn.datagrid.methods,r,t)}});var y=e.fn.treegrid.methods.loadData,_=e.fn.treegrid.methods.append,w=e.fn.treegrid.methods.insert,m=e.fn.treegrid.methods.remove;e.extend(e.fn.treegrid.methods,{loadData:function(r,t){return r.each(function(){e.data(this,"treegrid").filterSource=null}),y.call(e.fn.treegrid.methods,r,t)},append:function(r,t){return r.each(function(){var r=e(this).data("treegrid");if(r.options.oldLoadFilter){var i=s(this,t.data,t.parent);r.filterSource.total+=i.length,r.filterSource.rows=r.filterSource.rows.concat(i),e(this).treegrid("loadData",r.filterSource)}else _(e(this),t)})},insert:function(r,t){return r.each(function(){var r=e(this).data("treegrid"),i=r.options;if(i.oldLoadFilter){var a=(t.before||t.after,function(e){for(var t=r.filterSource.rows,a=0;a<t.length;a++)if(t[a][i.idField]==e)return a;return-1}(t.before||t.after)),o=a>=0?r.filterSource.rows[a]._parentId:null,l=s(this,[t.data],o),n=r.filterSource.rows.splice(0,a>=0?t.before?a:a+1:r.filterSource.rows.length);n=n.concat(l),n=n.concat(r.filterSource.rows),r.filterSource.total+=l.length,r.filterSource.rows=n,e(this).treegrid("loadData",r.filterSource)}else w(e(this),t)})},remove:function(r,t){return r.each(function(){var r=e(this).data("treegrid");if(r.filterSource)for(var i=r.options,a=r.filterSource.rows,o=0;o<a.length;o++)if(a[o][i.idField]==t){a.splice(o,1),r.filterSource.total--;break}}),m(r,t)}});var b={filterMenuIconCls:"icon-ok",filterBtnIconCls:"icon-filter",filterBtnPosition:"right",filterPosition:"bottom",remoteFilter:!1,showFilterBar:!0,filterDelay:400,filterRules:[],filterMatchingType:"all",filterIncludingChild:!1,filterMatcher:function(t){function i(r,t){c.val==e.fn.combogrid.defaults.val&&(c.val=b.val);var i=c.filterRules;if(!i.length)return!0;for(var a=0;a<i.length;a++){var o=i[a],l=d.datagrid("getColumnOption",o.field),n=l&&l.formatter?l.formatter(r[o.field],r,t):void 0,s=c.val.call(d[0],r,o.field,n);void 0==s&&(s="");var g=c.operators[o.op],p=g.isMatch(s,o.value);if("any"==c.filterMatchingType){if(p)return!0}else if(!p)return!1}return"all"==c.filterMatchingType}function a(e,r){for(var t=0;t<e.length;t++){var i=e[t];if(i[c.idField]==r)return i}return null}function o(r,t){for(var i=l(r,t),a=e.extend(!0,[],i);a.length;){var o=a.shift(),n=l(r,o[c.idField]);i=i.concat(n),a=a.concat(n)}return i}function l(e,r){for(var t=[],i=0;i<e.length;i++){var a=e[i];a._parentId==r&&t.push(a)}return t}var n=r(this),d=e(this),s=e.data(this,n),c=s.options;if(c.filterRules.length){var g=[];if("treegrid"==n){var p={};e.map(t.rows,function(r){if(i(r,r[c.idField])){p[r[c.idField]]=r;for(var l=a(t.rows,r._parentId);l;)p[l[c.idField]]=l,l=a(t.rows,l._parentId);if(c.filterIncludingChild){var n=o(t.rows,r[c.idField]);e.map(n,function(e){p[e[c.idField]]=e})}}});for(var u in p)g.push(p[u])}else for(var h=0;h<t.rows.length;h++){var f=t.rows[h];i(f,h)&&g.push(f)}t={total:t.total-(t.rows.length-g.length),rows:g}}return t},defaultFilterType:"text",defaultFilterOperator:"contains",defaultFilterOptions:{onInit:function(t){function i(){var r=e(t)[a]("getFilterRule",l),i=n.val();""!=i?(r&&r.value!=i||!r)&&(e(t)[a]("addFilterRule",{field:l,op:o.defaultFilterOperator,value:i}),e(t)[a]("doFilter")):r&&(e(t)[a]("removeFilterRule",l),e(t)[a]("doFilter"))}var a=r(t),o=e(t)[a]("options"),l=e(this).attr("name"),n=e(this);n.data("textbox")&&(n=n.textbox("textbox")),n.unbind(".filter").bind("keydown.filter",function(r){e(this);this.timer&&clearTimeout(this.timer),13==r.keyCode?i():this.timer=setTimeout(function(){i()},o.filterDelay)})}},filterStringify:function(e){return JSON.stringify(e)},val:function(e,r,t){return t||e[r]},onClickMenu:function(e,r){}};e.extend(e.fn.datagrid.defaults,b),e.extend(e.fn.treegrid.defaults,b),e.fn.datagrid.defaults.filters=e.extend({},e.fn.datagrid.defaults.editors,{label:{init:function(r,t){return e("<span></span>").appendTo(r)},getValue:function(r){return e(r).html()},setValue:function(r,t){e(r).html(t)},resize:function(r,t){e(r)._outerWidth(t)._outerHeight(22)}}}),e.fn.treegrid.defaults.filters=e.fn.datagrid.defaults.filters,e.fn.datagrid.defaults.operators={nofilter:{text:"No Filter"},contains:{text:"Contains",isMatch:function(e,r){return e=String(e),r=String(r),e.toLowerCase().indexOf(r.toLowerCase())>=0}},equal:{text:"Equal",isMatch:function(e,r){return e=parseFloat(e.replace(/,/g,"")),r=parseFloat(r),e==r}},notequal:{text:"Not Equal",isMatch:function(e,r){return e=parseFloat(e.replace(/,/g,"")),r=parseFloat(r),e!=r}},beginwith:{text:"Begin With",isMatch:function(e,r){return e=String(e),r=String(r),0==e.toLowerCase().indexOf(r.toLowerCase())}},endwith:{text:"End With",isMatch:function(e,r){return e=String(e),r=String(r),-1!==e.toLowerCase().indexOf(r.toLowerCase(),e.length-r.length)}},less:{text:"Less",isMatch:function(e,r){return e=parseFloat(e.replace(/,/g,"")),r=parseFloat(r),e<r}},lessorequal:{text:"Less Or Equal",isMatch:function(e,r){return e=parseFloat(e.replace(/,/g,"")),r=parseFloat(r),e<=r}},greater:{text:"Greater",isMatch:function(e,r){return e=parseFloat(e.replace(/,/g,"")),r=parseFloat(r),e>r}},greaterorequal:{text:"Greater Or Equal",isMatch:function(e,r){return e=parseFloat(e.replace(/,/g,"")),r=parseFloat(r),e>=r}},between:{text:"In Between (Number1 to Number2)",isMatch:function(e,r){return r=r.replace(/,/g,"").split("to"),value1=parseFloat(r[0]),value2=parseFloat(r[1]),(e=parseFloat(e.replace(/,/g,"")))>=value1&&e<=value2}}},e.fn.treegrid.defaults.operators=e.fn.datagrid.defaults.operators,e.extend(e.fn.datagrid.methods,{enableFilter:function(t,i){return t.each(function(){var t=r(this),a=e.data(this,t).options;if(a.oldLoadFilter){if(!i)return;e(this)[t]("disableFilter")}a.oldLoadFilter=a.loadFilter,g(this,i),e(this)[t]("resize"),a.filterRules.length&&(a.remoteFilter?d(this):a.data&&d(this))})},disableFilter:function(t){return t.each(function(){var t=r(this),i=e.data(this,t),a=i.options;if(a.oldLoadFilter){var o=e(this).data("datagrid").dc,l=o.view.children(".datagrid-filter-cache");l.length||(l=e('<div class="datagrid-filter-cache"></div>').appendTo(o.view));for(var n in a.filterCache)e(a.filterCache[n]).appendTo(l);var d=i.data;i.filterSource&&(d=i.filterSource,e.map(d.rows,function(e){e.children=void 0})),o.header1.add(o.header2).find("tr.datagrid-filter-row").remove(),a.loadFilter=a.oldLoadFilter||void 0,a.oldLoadFilter=null,e(this)[t]("resize"),e(this)[t]("loadData",d)}})},destroyFilter:function(t,i){return t.each(function(){function t(r){var t=e(l.filterCache[r]),i=t.find(".datagrid-filter");if(i.length){var a=i[0].filter;a.destroy&&a.destroy(i[0])}t.find(".datagrid-filter-btn").each(function(){e(this.menu).menu("destroy")}),t.remove(),l.filterCache[r]=void 0}var a=r(this),o=e.data(this,a),l=o.options;if(i)t(i);else{for(var n in l.filterCache)t(n);e(this).datagrid("getPanel").find(".datagrid-header .datagrid-filter-row").remove(),e(this).data("datagrid").dc.view.children(".datagrid-filter-cache").remove(),l.filterCache={},e(this)[a]("resize"),e(this)[a]("disableFilter")}})},getFilterRule:function(e,r){return o(e[0],r)},addFilterRule:function(e,r){return e.each(function(){l(this,r)})},removeFilterRule:function(e,r){return e.each(function(){n(this,r)})},doFilter:function(e){return e.each(function(){d(this)})},getFilterComponent:function(e,r){return i(e[0],r)},resizeFilter:function(e,r){return e.each(function(){t(this,r)})}})}(jQuery)}});